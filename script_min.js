/*
 Chart.js v2.8.0
 https://www.chartjs.org
 (c) 2019 Chart.js Contributors
 Released under the MIT License
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(q){var n=0;return function(){return n<q.length?{done:!1,value:q[n++]}:{done:!0}}};$jscomp.arrayIterator=function(q){return{next:$jscomp.arrayIteratorImpl(q)}};$jscomp.makeIterator=function(q){var n="undefined"!=typeof Symbol&&Symbol.iterator&&q[Symbol.iterator];return n?n.call(q):$jscomp.arrayIterator(q)};
!function(q,n){if("object"==typeof exports&&"undefined"!=typeof module){var y=module;a:{try{var v=require("moment");break a}catch(C){}v=void 0}y.exports=n(v)}else"function"==typeof define&&define.amd?define(["require"],function(q){a:{try{var v=q("moment");break a}catch(V){}v=void 0}return n(v)}):q.Chart=n(q.moment)}(this,function(q){function n(a){var c,d,e=a[0]/255,f=a[1]/255;a=a[2]/255;var h=Math.min(e,f,a),l=Math.max(e,f,a),m=l-h;return l==h?c=0:e==l?c=(f-a)/m:f==l?c=2+(a-e)/m:a==l&&(c=4+(e-f)/
m),0>(c=Math.min(60*c,360))&&(c+=360),d=(h+l)/2,[c,100*(l==h?0:.5>=d?m/(l+h):m/(2-l-h)),100*d]}function y(a){var c,d,e=a[0],f=a[1];a=a[2];var h=Math.min(e,f,a),l=Math.max(e,f,a),m=l-h;return d=0==l?0:m/l*1E3/10,l==h?c=0:e==l?c=(f-a)/m:f==l?c=2+(a-e)/m:a==l&&(c=4+(e-f)/m),0>(c=Math.min(60*c,360))&&(c+=360),[c,d,l/255*1E3/10]}function v(a){var c=a[0],d=a[1],e=a[2];return[n(a)[0],1/255*100*Math.min(c,Math.min(d,e)),100*(1-1/255*Math.max(c,Math.max(d,e)))]}function C(a){var c,d=a[0]/255,e=a[1]/255;a=
a[2]/255;return[100*((1-d-(c=Math.min(1-d,1-e,1-a)))/(1-c)||0),100*((1-e-c)/(1-c)||0),100*((1-a-c)/(1-c)||0),100*c]}function D(a){return Qb[JSON.stringify(a)]}function V(a){var c=a[0]/255,d=a[1]/255;a=a[2]/255;return[100*(.4124*(c=.04045<c?Math.pow((c+.055)/1.055,2.4):c/12.92)+.3576*(d=.04045<d?Math.pow((d+.055)/1.055,2.4):d/12.92)+.1805*(a=.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92)),100*(.2126*c+.7152*d+.0722*a),100*(.0193*c+.1192*d+.9505*a)]}function fb(a){var c=V(a);a=c[0];var d=c[1];c=c[2];
return d/=100,c/=108.883,a=.008856<(a/=95.047)?Math.pow(a,1/3):7.787*a+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(a-d),200*(d-(.008856<c?Math.pow(c,1/3):7.787*c+16/116))]}function La(a){var c,d,e=a[0]/360;var f=a[1]/100;a=a[2]/100;if(0==f)return[d=255*a,d,d];f=2*a-(a=.5>a?a*(1+f):a+f-a*f);var h=[0,0,0];for(var l=0;3>l;l++)0>(c=e+1/3*-(l-1))&&c++,1<c&&c--,d=1>6*c?f+6*(a-f)*c:1>2*c?a:2>3*c?f+(a-f)*(2/3-c)*6:f,h[l]=255*d;return h}function Ma(a){var c=a[0]/60,d=a[1]/100;a=a[2]/100;
var e=Math.floor(c)%6,f=c-Math.floor(c);c=255*a*(1-d);var h=255*a*(1-d*f);d=255*a*(1-d*(1-f));a*=255;switch(e){case 0:return[a,d,c];case 1:return[h,a,c];case 2:return[c,a,d];case 3:return[c,h,a];case 4:return[d,c,a];case 5:return[a,c,h]}}function va(a){var c,d;var e=a[0]/360;var f=a[1]/100;a=a[2]/100;var h=f+a;switch(1<h&&(f/=h,a/=h),d=6*e-(c=Math.floor(6*e)),0!=(1&c)&&(d=1-d),h=f+d*((e=1-a)-f),c){default:case 6:case 0:r=e;g=h;b=f;break;case 1:r=h;g=e;b=f;break;case 2:r=f;g=e;b=h;break;case 3:r=f;
g=h;b=e;break;case 4:r=h;g=f;b=e;break;case 5:r=e,g=f,b=h}return[255*r,255*g,255*b]}function wa(a){var c=a[3]/100;return[255*(1-Math.min(1,a[0]/100*(1-c)+c)),255*(1-Math.min(1,a[1]/100*(1-c)+c)),255*(1-Math.min(1,a[2]/100*(1-c)+c))]}function Rb(a){var c,d,e,f=a[0]/100,h=a[1]/100;a=a[2]/100;return d=-.9689*f+1.8758*h+.0415*a,e=.0557*f+-.204*h+1.057*a,c=.0031308<(c=3.2406*f+-1.5372*h+-.4986*a)?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,e=.0031308<e?1.055*
Math.pow(e,1/2.4)-.055:e*=12.92,[255*Math.min(Math.max(0,c),1),255*Math.min(Math.max(0,d),1),255*Math.min(Math.max(0,e),1)]}function Sb(a){var c=a[0],d=a[1];a=a[2];return d/=100,a/=108.883,c=.008856<(c/=95.047)?Math.pow(c,1/3):7.787*c+16/116,[116*(d=.008856<d?Math.pow(d,1/3):7.787*d+16/116)-16,500*(c-d),200*(d-(.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function gb(a){var c,d,e=a[0],f=a[1];a=a[2];return 8>=e?d=(c=100*e/903.3)/100*7.787+16/116:(c=100*Math.pow((e+16)/116,3),d=Math.pow(c/100,1/3)),
[95.047*Math.pow(f/500+d,3),c,108.883*Math.pow(d-a/200,3)]}function hb(a){var c,d=a[0],e=a[1];a=a[2];return 0>(c=360*Math.atan2(a,e)/2/Math.PI)&&(c+=360),[d,Math.sqrt(e*e+a*a),c]}function Tb(a){return Rb(gb(a))}function ib(a){var c,d=a[0],e=a[1];return c=a[2]/360*2*Math.PI,[d,e*Math.cos(c),e*Math.sin(c)]}function jb(a){if(a){var c=[0,0,0],d=1,e=a.match(/^#([a-fA-F0-9]{3,4})$/i);if(e){a=(e=e[1])[3];for(var f=0;f<c.length;f++)c[f]=parseInt(e[f]+e[f],16);a&&(d=Math.round(parseInt(a+a,16)/255*100)/100)}else if(e=
a.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){a=e[2];e=e[1];for(f=0;f<c.length;f++)c[f]=parseInt(e.slice(2*f,2*f+2),16);a&&(d=Math.round(parseInt(a,16)/255*100)/100)}else if(e=a.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(f=0;f<c.length;f++)c[f]=parseInt(e[f+1]);d=parseFloat(e[4])}else if(e=a.match(/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(f=0;f<c.length;f++)c[f]=Math.round(2.55*
parseFloat(e[f+1]));d=parseFloat(e[4])}else if(e=a.match(/(\w+)/)){if("transparent"==e[1])return[0,0,0,0];if(!(c=kb[e[1]]))return}for(f=0;f<c.length;f++)c[f]=W(c[f],0,255);return d=d||0==d?W(d,0,1):1,c[3]=d,c}}function lb(a){if(a&&(a=a.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=parseFloat(a[4]);return[W(parseInt(a[1]),0,360),W(parseFloat(a[2]),0,100),W(parseFloat(a[3]),0,100),W(isNaN(c)?1:c,0,1)]}}function Ub(a){if(a&&
(a=a.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/))){var c=parseFloat(a[4]);return[W(parseInt(a[1]),0,360),W(parseFloat(a[2]),0,100),W(parseFloat(a[3]),0,100),W(isNaN(c)?1:c,0,1)]}}function Vb(a,c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+c+")"}function Wb(a,c){return"rgba("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%, "+(c||a[3]||1)+")"}function Xb(a,
c){return void 0===c&&(c=void 0!==a[3]?a[3]:1),"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+c+")"}function W(a,c,d){return Math.min(Math.max(c,a),d)}function Na(a){a=a.toString(16).toUpperCase();return 2>a.length?"0"+a:a}function Yb(a,c){var d=a._chartjs;if(d){d=d.listeners;var e=d.indexOf(c);-1!==e&&d.splice(e,1);0<d.length||(Zb.forEach(function(c){delete a[c]}),delete a._chartjs)}}function $b(a){var c=this._view;return!!c&&Math.abs(a-c.x)<c.radius+c.hitRadius}function Oa(a){return a&&void 0!==a.width}
function ac(a){var c,d,e,f,h;return Oa(a)?(h=a.width/2,c=a.x-h,d=a.x+h,e=Math.min(a.y,a.base),f=Math.max(a.y,a.base)):(h=a.height/2,c=Math.min(a.x,a.base),d=Math.max(a.x,a.base),e=a.y-h,f=a.y+h),{left:c,top:e,right:d,bottom:f}}function xa(a,c,d){var e=null===c,f=null===d;return(a=!(!a||e&&f)&&ac(a))&&(e||c>=a.left&&c<=a.right)&&(f||d>=a.top&&d<=a.bottom)}function ja(a,c){return a["native"]?{x:a.x,y:a.y}:k.getRelativePosition(a,c)}function ya(a,c){var d,e,f;var h=0;for(e=a.data.datasets.length;h<e;++h)if(a.isDatasetVisible(h)){var l=
0;for(f=(d=a.getDatasetMeta(h)).data.length;l<f;++l){var m=d.data[l];m._view.skip||c(m)}}}function mb(a,c){var d=[];return ya(a,function(a){a.inRange(c.x,c.y)&&d.push(a)}),d}function nb(a,c,d,e){var f=Number.POSITIVE_INFINITY,h=[];return ya(a,function(a){if(!d||a.inRange(c.x,c.y)){var l=a.getCenterPoint();l=e(c,l);l<f?(h=[a],f=l):l===f&&h.push(a)}}),h}function ob(a){var c=-1!==a.indexOf("x"),d=-1!==a.indexOf("y");return function(a,f){return Math.sqrt(Math.pow(c?Math.abs(a.x-f.x):0,2)+Math.pow(d?Math.abs(a.y-
f.y):0,2))}}function pb(a,c,d){c=ja(c,a);d.axis=d.axis||"x";var e=ob(d.axis),f=d.intersect?mb(a,c):nb(a,c,!1,e),h=[];return f.length?(a.data.datasets.forEach(function(c,d){if(a.isDatasetVisible(d)){var e=a.getDatasetMeta(d).data[f[0]._index];e&&!e._view.skip&&h.push(e)}}),h):[]}function za(a,c){return k.where(a,function(a){return a.position===c})}function Pa(a,c){a.forEach(function(a,c){return a._tmpIndex_=c,a});a.sort(function(a,e){var d=c?e:a,h=c?a:e;return d.weight===h.weight?d._tmpIndex_-h._tmpIndex_:
d.weight-h.weight});a.forEach(function(a){delete a._tmpIndex_})}function qb(a,c){k.each(a,function(a){c[a.position]+=a.isHorizontal()?a.height:a.width})}function bc(a,c){var d=k.getStyle(a,c);return(d=d&&d.match(/^(\d+)(\.\d+)?px$/))?Number(d[1]):void 0}function Aa(a,c,d){a.addEventListener(c,d,cc)}function rb(a,c,d){a.removeEventListener(c,d,cc)}function sb(a,c,d,e,f){return{type:a,chart:c,"native":f||null,x:void 0!==d?d:null,y:void 0!==e?e:null}}function Ba(a){var c=document.createElement("div");
return c.className=a||"",c}function Sc(a,c,d){var e,f,h,l,m=a.$chartjs||(a.$chartjs={}),p=m.resizer=function(a){var c=Ba("chartjs-size-monitor"),d=Ba("chartjs-size-monitor-expand"),e=Ba("chartjs-size-monitor-shrink");d.appendChild(Ba());e.appendChild(Ba());c.appendChild(d);c.appendChild(e);c._reset=function(){d.scrollLeft=1E6;d.scrollTop=1E6;e.scrollLeft=1E6;e.scrollTop=1E6};var f=function(){c._reset();a()};return Aa(d,"scroll",f.bind(d,"expand")),Aa(e,"scroll",f.bind(e,"shrink")),c}((e=function(){if(m.resizer){var e=
d.options.maintainAspectRatio&&a.parentNode,f=e?e.clientWidth:0;c(sb("resize",d));e&&e.clientWidth<f&&d.canvas&&c(sb("resize",d))}},h=!1,l=[],function(){l=Array.prototype.slice.call(arguments);f=f||this;h||(h=!0,k.requestAnimFrame.call(window,function(){h=!1;e.apply(f,l)}))}));!function(a,c){var d=a.$chartjs||(a.$chartjs={}),e=d.renderProxy=function(a){"chartjs-render-animation"===a.animationName&&c()};k.each(dc,function(c){Aa(a,c,e)});d.reflow=!!a.offsetParent;a.classList.add("chartjs-render-monitor")}(a,
function(){if(m.resizer){var c=a.parentNode;c&&c!==p.parentNode&&c.insertBefore(p,c.firstChild);p._reset()}})}function Tc(a){var c=a.$chartjs||{},d=c.resizer;delete c.resizer;(function(a){var c=a.$chartjs||{},d=c.renderProxy;d&&(k.each(dc,function(c){rb(a,c,d)}),delete c.renderProxy);a.classList.remove("chartjs-render-monitor")})(a);d&&d.parentNode&&d.parentNode.removeChild(d)}function O(a,c){return c&&(k.isArray(c)?Array.prototype.push.apply(a,c):a.push(c)),a}function X(a){return("string"==typeof a||
a instanceof String)&&-1<a.indexOf("\n")?a.split("\n"):a}function ec(a){var c=z.global;return{xPadding:a.xPadding,yPadding:a.yPadding,xAlign:a.xAlign,yAlign:a.yAlign,bodyFontColor:a.bodyFontColor,_bodyFontFamily:aa(a.bodyFontFamily,c.defaultFontFamily),_bodyFontStyle:aa(a.bodyFontStyle,c.defaultFontStyle),_bodyAlign:a.bodyAlign,bodyFontSize:aa(a.bodyFontSize,c.defaultFontSize),bodySpacing:a.bodySpacing,titleFontColor:a.titleFontColor,_titleFontFamily:aa(a.titleFontFamily,c.defaultFontFamily),_titleFontStyle:aa(a.titleFontStyle,
c.defaultFontStyle),titleFontSize:aa(a.titleFontSize,c.defaultFontSize),_titleAlign:a.titleAlign,titleSpacing:a.titleSpacing,titleMarginBottom:a.titleMarginBottom,footerFontColor:a.footerFontColor,_footerFontFamily:aa(a.footerFontFamily,c.defaultFontFamily),_footerFontStyle:aa(a.footerFontStyle,c.defaultFontStyle),footerFontSize:aa(a.footerFontSize,c.defaultFontSize),_footerAlign:a.footerAlign,footerSpacing:a.footerSpacing,footerMarginTop:a.footerMarginTop,caretSize:a.caretSize,cornerRadius:a.cornerRadius,
backgroundColor:a.backgroundColor,opacity:0,legendColorBackground:a.multiKeyBackground,displayColors:a.displayColors,borderColor:a.borderColor,borderWidth:a.borderWidth}}function Qa(a,c){return"center"===c?a.x+a.width/2:"right"===c?a.x+a.width-a.xPadding:a.x+a.xPadding}function fc(){return k.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){if("xAxes"===a||"yAxes"===a){var f=d[a].length;c[a]||(c[a]=[]);for(e=0;e<f;++e){var h=d[a][e];var l=tb(h.type,"xAxes"===a?"category":"linear");e>=c[a].length&&
c[a].push({});!c[a][e].type||h.type&&h.type!==c[a][e].type?k.merge(c[a][e],[Ca.getScaleDefaults(l),h]):k.merge(c[a][e],h)}}else k._merger(a,c,d,e)}})}function ub(){return k.merge({},[].slice.call(arguments),{merger:function(a,c,d,e){var f=c[a]||{},h=d[a];"scales"===a?c[a]=fc(f,h):"scale"===a?c[a]=k.merge(f,[Ca.getScaleDefaults(h.type),h]):k._merger(a,c,d,e)}})}function gc(a){return"top"===a||"bottom"===a}function ka(){throw Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");
}function Ra(a){this.options=a||{}}function hc(a){var c,d=[];var e=0;for(c=a.length;e<c;++e)d.push(a[e].label);return d}function ic(a,c,d){return k.isArray(c)?k.longestText(a,d,c):a.measureText(c).width}function Sa(a,c){return k.isFinite(a)&&0<=a?a:c}function Ta(a){var c=a.options;return c.angleLines.display||c.pointLabels.display?a.chart.data.labels.length:0}function vb(a){var c=a.ticks;return c.display&&a.display?Ua(c.fontSize,z.global.defaultFontSize)+2*c.backdropPaddingY:0}function jc(a,c,d,e,
f){return a===e||a===f?{start:c-d/2,end:c+d/2}:a<e||a>f?{start:c-d,end:c}:{start:c,end:c+d}}function Va(a){return k.isNumber(a)?a:0}function kc(a,c){return a-c}function lc(a){var c,d,e={},f=[];var h=0;for(c=a.length;h<c;++h)e[d=a[h]]||(e[d]=!0,f.push(d));return f}function na(a,c,d,e){var f,h;a:{for(var l,m=0,k=a.length-1;0<=m&&m<=k;){if(h=a[(f=m+k>>1)-1]||null,l=a[f],!h){f=null;h=l;break a}if(l[c]<d)m=f+1;else{if(!(h[c]>d)){f=h;h=l;break a}k=f-1}}f=l;h=null}l=f?h?f:a[a.length-2]:a[0];a=f?h?h:a[a.length-
1]:a[1];f=a[c]-l[c];return l[e]+(a[e]-l[e])*(f?(d-l[c])/f:0)}function wb(a,c){var d=a._adapter,e=a.options.time,f=e.parser;e=f||e.format;var h=c;return"function"==typeof f&&(h=f(h)),k.isFinite(h)||(h="string"==typeof e?d.parse(h,e):d.parse(h)),null!==h?+h:(f||"function"!=typeof e||(h=e(c),k.isFinite(h)||(h=d.parse(h))),h)}function la(a,c){if(k.isNullOrUndef(c))return null;var d=a.options.time,e=wb(a,a.getRightValue(c));return null===e?e:(d.round&&(e=+a._adapter.startOf(e,d.round)),e)}function mc(a){a=
L.indexOf(a)+1;for(var c=L.length;a<c;++a)if(oa[L[a]].common)return L[a]}function Uc(a,c,d,e){var f=a._adapter,h=a.options;a=h.time;var l=a.unit||function(a,c,d,e){var f,h,l=L.length;for(a=L.indexOf(a);a<l-1;++a)if(h=(f=oa[L[a]]).steps?f.steps[f.steps.length-1]:yb,f.common&&Math.ceil((d-c)/(h*f.size))<=e)return L[a];return L[l-1]}(a.minUnit,c,d,e),m=mc(l),k=zb(a.stepSize,a.unitStepSize),t="week"===l&&a.isoWeekday;h=h.ticks.major.enabled;var w=oa[l],x=c,u=d,H=[];k||(k=function(a,c,d,e){var f,h;a=c-
a;c=oa[d];d=c.size;var l=c.steps;if(!l)return Math.ceil(a/(e*d));c=0;for(f=l.length;c<f&&(h=l[c],!(Math.ceil(a/(d*h))<=e));++c);return h}(c,d,l,e));t&&(x=+f.startOf(x,"isoWeek",t),u=+f.startOf(u,"isoWeek",t));x=+f.startOf(x,t?"day":l);(u=+f.startOf(u,t?"day":l))<d&&(u=+f.add(u,1,l));c=x;for(h&&m&&!t&&!a.round&&(c=+f.startOf(c,m),c=+f.add(c,~~((x-c)/(w.size*k))*k,l));c<u;c=+f.add(c,k,l))H.push(+c);return H.push(+c),H}function Vc(a,c,d){var e;a=a._model||{};var f=a.fill;if(void 0===f&&(f=!!a.backgroundColor),
!1===f||null===f)return!1;if(!0===f)return"origin";if(e=parseFloat(f,10),isFinite(e)&&Math.floor(e)===e)return"-"!==f[0]&&"+"!==f[0]||(e=c+e),!(e===c||0>e||e>=d)&&e;switch(f){case "bottom":return"start";case "top":return"end";case "zero":return"origin";case "origin":case "start":case "end":return f;default:return!1}}function Wc(a){var c,d=a.el._model||{},e=a.el._scale||{};a=a.fill;var f=null;if(isFinite(a))return null;if("start"===a?f=void 0===d.scaleBottom?e.bottom:d.scaleBottom:"end"===a?f=void 0===
d.scaleTop?e.top:d.scaleTop:void 0!==d.scaleZero?f=d.scaleZero:e.getBasePosition?f=e.getBasePosition():e.getBasePixel&&(f=e.getBasePixel()),null!=f){if(void 0!==f.x&&void 0!==f.y)return f;if(k.isFinite(f))return{x:(c=e.isHorizontal())?f:null,y:c?null:f}}return null}function nc(a,c,d,e,f){var h;if(e&&f){a.moveTo(c[0].x,c[0].y);for(h=1;h<e;++h)k.canvas.lineTo(a,c[h-1],c[h]);a.lineTo(d[f-1].x,d[f-1].y);for(h=f-1;0<h;--h)k.canvas.lineTo(a,d[h],d[h-1],!0)}}function oc(a,c){var d=new pc({ctx:a.ctx,options:c,
chart:a});P.configure(a,d,c);P.addBox(a,d);a.legend=d}function qc(a,c){var d=new rc({ctx:a.ctx,options:c,chart:a});P.configure(a,d,c);P.addBox(a,d);a.titleBlock=d}q=q&&q.hasOwnProperty("default")?q["default"]:q;var Ab={rgb2hsl:n,rgb2hsv:y,rgb2hwb:v,rgb2cmyk:C,rgb2keyword:D,rgb2xyz:V,rgb2lab:fb,rgb2lch:function(a){return hb(fb(a))},hsl2rgb:La,hsl2hsv:function(a){var c=a[1]/100,d=a[2]/100;return 0===d?[0,0,0]:[a[0],100*(2*(c*=1>=(d*=2)?d:2-d)/(d+c)),(d+c)/2*100]},hsl2hwb:function(a){return v(La(a))},
hsl2cmyk:function(a){return C(La(a))},hsl2keyword:function(a){return D(La(a))},hsv2rgb:Ma,hsv2hsl:function(a){var c,d,e=a[0],f=a[1]/100;a=a[2]/100;return c=f*a,[e,100*(c/(1>=(d=(2-f)*a)?d:2-d)||0),d/2*100]},hsv2hwb:function(a){return v(Ma(a))},hsv2cmyk:function(a){return C(Ma(a))},hsv2keyword:function(a){return D(Ma(a))},hwb2rgb:va,hwb2hsl:function(a){return n(va(a))},hwb2hsv:function(a){return y(va(a))},hwb2cmyk:function(a){return C(va(a))},hwb2keyword:function(a){return D(va(a))},cmyk2rgb:wa,cmyk2hsl:function(a){return n(wa(a))},
cmyk2hsv:function(a){return y(wa(a))},cmyk2hwb:function(a){return v(wa(a))},cmyk2keyword:function(a){return D(wa(a))},keyword2rgb:function(a){return ca[a]},keyword2hsl:function(a){return n(ca[a])},keyword2hsv:function(a){return y(ca[a])},keyword2hwb:function(a){return v(ca[a])},keyword2cmyk:function(a){return C(ca[a])},keyword2lab:function(a){return fb(ca[a])},keyword2xyz:function(a){return V(ca[a])},xyz2rgb:Rb,xyz2lab:Sb,xyz2lch:function(a){return hb(Sb(a))},lab2xyz:gb,lab2rgb:Tb,lab2lch:hb,lch2lab:ib,
lch2xyz:function(a){return gb(ib(a))},lch2rgb:function(a){return Tb(ib(a))}},ca={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,
20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,
191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,
240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,
240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,
165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,
238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Qb={},Bb;for(Bb in ca)Qb[JSON.stringify(ca[Bb])]=Bb;var pa=function(){return new Ea},
qa;for(qa in Ab){pa[qa+"Raw"]=function(a){return function(c){return"number"==typeof c&&(c=Array.prototype.slice.call(arguments)),Ab[a](c)}}(qa);var sc=/(\w+)2(\w+)/.exec(qa),tc=sc[1],Xc=sc[2];(pa[tc]=pa[tc]||{})[Xc]=pa[qa]=function(a){return function(c){"number"==typeof c&&(c=Array.prototype.slice.call(arguments));var d=Ab[a](c);if("string"==typeof d||void 0===d)return d;for(var e=0;e<d.length;e++)d[e]=Math.round(d[e]);return d}}(qa)}var Ea=function(){this.convs={}};Ea.prototype.routeSpace=function(a,
c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=Array.prototype.slice.call(c)),this.setValues(a,d))};Ea.prototype.setValues=function(a,c){return this.space=a,this.convs={},this.convs[a]=c,this};Ea.prototype.getValues=function(a){var c=this.convs[a];c||(c=this.space,c=pa[c][a](this.convs[c]),this.convs[a]=c);return c};["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){Ea.prototype[a]=function(c){return this.routeSpace(a,arguments)}});var kb={aliceblue:[240,248,255],
antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,
169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,
34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],
mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,
251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,
128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={getRgba:jb,getHsla:lb,getRgb:function(a){return(a=jb(a))&&a.slice(0,3)},getHsl:function(a){return(a=lb(a))&&a.slice(0,3)},getHwb:Ub,getAlpha:function(a){var c=jb(a);if(c||
(c=lb(a))||(c=Ub(a)))return c[3]},hexString:function(a,c){c=void 0!==c&&3===a.length?c:a[3];return"#"+Na(a[0])+Na(a[1])+Na(a[2])+(0<=c&&1>c?Na(Math.round(255*c)):"")},rgbString:function(a,c){return 1>c||a[3]&&1>a[3]?Vb(a,c):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"},rgbaString:Vb,percentString:function(a,c){return 1>c||a[3]&&1>a[3]?Wb(a,c):"rgb("+Math.round(a[0]/255*100)+"%, "+Math.round(a[1]/255*100)+"%, "+Math.round(a[2]/255*100)+"%)"},percentaString:Wb,hslString:function(a,c){return 1>c||a[3]&&1>a[3]?
Xb(a,c):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"},hslaString:Xb,hwbString:function(a,c){void 0===c&&(c=void 0!==a[3]?a[3]:1);return"hwb("+a[0]+", "+a[1]+"%, "+a[2]+"%"+(void 0!==c&&1!==c?", "+c:"")+")"},keyword:function(a){return uc[a.slice(0,3)]}},uc={},Cb;for(Cb in kb)uc[kb[Cb]]=Cb;var R=function(a){return a instanceof R?a:this instanceof R?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof a?(c=Q.getRgba(a))?this.setValues("rgb",
c):(c=Q.getHsla(a))?this.setValues("hsl",c):(c=Q.getHwb(a))&&this.setValues("hwb",c):"object"==typeof a&&(void 0!==(c=a).r||void 0!==c.red?this.setValues("rgb",c):void 0!==c.l||void 0!==c.lightness?this.setValues("hsl",c):void 0!==c.v||void 0!==c.value?this.setValues("hsv",c):void 0!==c.w||void 0!==c.whiteness?this.setValues("hwb",c):void 0===c.c&&void 0===c.cyan||this.setValues("cmyk",c)))):new R(a);var c};R.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",
arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var a=this.values;return 1!==a.alpha?a.hwb.concat([a.alpha]):a.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=
this.values;return a.rgb.concat([a.alpha])},hslaArray:function(){var a=this.values;return a.hsl.concat([a.alpha])},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return a&&(a=0>(a%=360)?360+a:a),this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",
2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},whiteness:function(a){return this.setChannel("hwb",1,a)},blackness:function(a){return this.setChannel("hwb",2,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return Q.hexString(this.values.rgb)},
rgbString:function(){return Q.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Q.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Q.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Q.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Q.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Q.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Q.keyword(this.values.rgb,
this.values.alpha)},rgbNumber:function(){var a=this.values.rgb;return a[0]<<16|a[1]<<8|a[2]},luminosity:function(){for(var a=this.values.rgb,c=[],d=0;d<a.length;d++){var e=a[d]/255;c[d]=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4)}return.2126*c[0]+.7152*c[1]+.0722*c[2]},contrast:function(a){var c=this.luminosity();a=a.luminosity();return c>a?(c+.05)/(a+.05):(a+.05)/(c+.05)},level:function(a){a=this.contrast(a);return 7.1<=a?"AAA":4.5<=a?"AA":""},dark:function(){var a=this.values.rgb;return 128>
(299*a[0]+587*a[1]+114*a[2])/1E3},light:function(){return!this.dark()},negate:function(){for(var a=[],c=0;3>c;c++)a[c]=255-this.values.rgb[c];return this.setValues("rgb",a),this},lighten:function(a){var c=this.values.hsl;return c[2]+=c[2]*a,this.setValues("hsl",c),this},darken:function(a){var c=this.values.hsl;return c[2]-=c[2]*a,this.setValues("hsl",c),this},saturate:function(a){var c=this.values.hsl;return c[1]+=c[1]*a,this.setValues("hsl",c),this},desaturate:function(a){var c=this.values.hsl;return c[1]-=
c[1]*a,this.setValues("hsl",c),this},whiten:function(a){var c=this.values.hwb;return c[1]+=c[1]*a,this.setValues("hwb",c),this},blacken:function(a){var c=this.values.hwb;return c[2]+=c[2]*a,this.setValues("hwb",c),this},greyscale:function(){var a=this.values.rgb;a=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[a,a,a]),this},clearer:function(a){var c=this.values.alpha;return this.setValues("alpha",c-c*a),this},opaquer:function(a){var c=this.values.alpha;return this.setValues("alpha",c+c*a),
this},rotate:function(a){var c=this.values.hsl;a=(c[0]+a)%360;return c[0]=0>a?360+a:a,this.setValues("hsl",c),this},mix:function(a,c){var d=void 0===c?.5:c,e=2*d-1,f=this.alpha()-a.alpha();e=((-1==e*f?e:(e+f)/(1+e*f))+1)/2;f=1-e;return this.rgb(e*this.red()+f*a.red(),e*this.green()+f*a.green(),e*this.blue()+f*a.blue()).alpha(this.alpha()*d+a.alpha()*(1-d))},toJSON:function(){return this.rgb()},clone:function(){var a,c,d=new R,e=this.values,f=d.values,h;for(h in e)e.hasOwnProperty(h)&&(a=e[h],"[object Array]"===
(c={}.toString.call(a))?f[h]=a.slice(0):"[object Number]"===c?f[h]=a:console.error("unexpected color value:",a));return d}};R.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};R.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};R.prototype.getValues=function(a){for(var c=this.values,d={},e=0;e<
a.length;e++)d[a.charAt(e)]=c[a][e];return 1!==c.alpha&&(d.a=c.alpha),d};R.prototype.setValues=function(a,c){var d=this.values,e=this.spaces,f=this.maxes;var h=1;if(this.valid=!0,"alpha"===a)h=c;else if(c.length)d[a]=c.slice(0,a.length),h=c[a.length];else if(void 0!==c[a.charAt(0)]){for(h=0;h<a.length;h++)d[a][h]=c[a.charAt(h)];h=c.a}else if(void 0!==c[e[a][0]]){var l=e[a];for(h=0;h<a.length;h++)d[a][h]=c[l[h]];h=c.alpha}if(d.alpha=Math.max(0,Math.min(1,void 0===h?d.alpha:h)),"alpha"===a)return!1;
for(h=0;h<a.length;h++)l=Math.max(0,Math.min(f[a][h],d[a][h])),d[a][h]=Math.round(l);for(var m in e)m!==a&&(d[m]=pa[a][m](d[a]));return!0};R.prototype.setSpace=function(a,c){var d=c[0];return void 0===d?this.getValues(a):("number"==typeof d&&(d=Array.prototype.slice.call(c)),this.setValues(a,d),this)};R.prototype.setChannel=function(a,c,d){var e=this.values[a];return void 0===d?e[c]:d===e[c]?this:(e[c]=d,this.setValues(a,e),this)};"undefined"!=typeof window&&(window.Color=R);var vc,Ya=R,B={noop:function(){},
uid:(vc=0,function(){return vc++}),isNullOrUndef:function(a){return null==a},isArray:function(a){if(Array.isArray&&Array.isArray(a))return!0;a=Object.prototype.toString.call(a);return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)},isObject:function(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)},isFinite:function(a){return("number"==typeof a||a instanceof Number)&&isFinite(a)},valueOrDefault:function(a,c){return void 0===a?c:a},valueAtIndexOrDefault:function(a,c,d){return B.valueOrDefault(B.isArray(a)?
a[c]:a,d)},callback:function(a,c,d){if(a&&"function"==typeof a.call)return a.apply(d,c)},each:function(a,c,d,e){var f,h;if(B.isArray(a))if(f=a.length,e)for(e=f-1;0<=e;e--)c.call(d,a[e],e);else for(e=0;e<f;e++)c.call(d,a[e],e);else if(B.isObject(a))for(f=(h=Object.keys(a)).length,e=0;e<f;e++)c.call(d,a[h[e]],h[e])},arrayEquals:function(a,c){var d,e,f;if(!a||!c||a.length!==c.length)return!1;var h=0;for(d=a.length;h<d;++h)if(e=a[h],f=c[h],e instanceof Array&&f instanceof Array){if(!B.arrayEquals(e,f))return!1}else if(e!==
f)return!1;return!0},clone:function(a){if(B.isArray(a))return a.map(B.clone);if(B.isObject(a)){for(var c={},d=Object.keys(a),e=d.length,f=0;f<e;++f)c[d[f]]=B.clone(a[d[f]]);return c}return a},_merger:function(a,c,d,e){var f=c[a];d=d[a];B.isObject(f)&&B.isObject(d)?B.merge(f,d,e):c[a]=B.clone(d)},_mergerIf:function(a,c,d){var e=c[a];d=d[a];B.isObject(e)&&B.isObject(d)?B.mergeIf(e,d):c.hasOwnProperty(a)||(c[a]=B.clone(d))},merge:function(a,c,d){var e,f,h,l=B.isArray(c)?c:[c],m=l.length;if(!B.isObject(a))return a;
var k=(d=d||{}).merger||B._merger;for(e=0;e<m;++e)if(c=l[e],B.isObject(c)){var t=0;for(h=(f=Object.keys(c)).length;t<h;++t)k(f[t],a,c,d)}return a},mergeIf:function(a,c){return B.merge(a,c,{merger:B._mergerIf})},extend:function(a){for(var c=function(c,d){a[d]=c},d=1,e=arguments.length;d<e;++d)B.each(arguments[d],c);return a},inherits:function(a){var c=this,d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return c.apply(this,arguments)},e=function(){this.constructor=d};return e.prototype=
c.prototype,d.prototype=new e,d.extend=B.inherits,a&&B.extend(d.prototype,a),d.__super__=c.prototype,d}},S=B;B.callCallback=B.callback;B.indexOf=function(a,c,d){return Array.prototype.indexOf.call(a,c,d)};B.getValueOrDefault=B.valueOrDefault;B.getValueAtIndexOrDefault=B.valueAtIndexOrDefault;var Fa={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*a*a:-.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*
a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-(--a*a*a*a-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return--a*a*a*a*a+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return 1-Math.cos(Math.PI/2*
a)},easeOutSine:function(a){return Math.sin(Math.PI/2*a)},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return 1<=a?a:-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1- --a*a)},easeInOutCirc:function(a){return 1>(a/=
.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),-e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d))},easeOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:1===a?1:(d||(d=.3),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/d)+1)},easeInOutElastic:function(a){var c=1.70158,d=0,e=1;return 0===a?0:2==(a/=.5)?1:
(d||(d=.45),1>e?(e=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/e),1>a?e*Math.pow(2,10*--a)*Math.sin(2*(a-c)*Math.PI/d)*-.5:e*Math.pow(2,-10*--a)*Math.sin(2*(a-c)*Math.PI/d)*.5+1)},easeInBack:function(a){return a*a*(2.70158*a-1.70158)},easeOutBack:function(a){return--a*a*(2.70158*a+1.70158)+1},easeInOutBack:function(a){var c=1.70158;return 1>(a/=.5)?a*a*((1+(c*=1.525))*a-c)*.5:.5*((a-=2)*a*((1+(c*=1.525))*a+c)+2)},easeInBounce:function(a){return 1-Fa.easeOutBounce(1-a)},easeOutBounce:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:function(a){return.5>a?.5*Fa.easeInBounce(2*a):.5*Fa.easeOutBounce(2*a-1)+.5}},Yc={effects:Fa};S.easingEffects=Fa;var K=Math.PI,Zc=K/180,$c=2*K,M=K/2,Ga=K/4,wc=2*K/3,Za={clear:function(a){a.ctx.clearRect(0,0,a.width,a.height)},roundedRect:function(a,c,d,e,f,h){if(h){h=Math.min(h,f/2,e/2);var l=c+h,m=d+h;e=c+e-h;f=d+f-h;a.moveTo(c,m);l<e&&m<f?(a.arc(l,m,h,
-K,-M),a.arc(e,m,h,-M,0),a.arc(e,f,h,0,M),a.arc(l,f,h,M,K)):l<e?(a.moveTo(l,d),a.arc(e,m,h,-M,M),a.arc(l,m,h,M,K+M)):m<f?(a.arc(l,m,h,-K,0),a.arc(l,f,h,0,K)):a.arc(l,m,h,-K,K);a.closePath();a.moveTo(c,d)}else a.rect(c,d,e,f)},drawPoint:function(a,c,d,e,f,h){var l,m=(h||0)*Zc;if(!c||"object"!=typeof c||"[object HTMLImageElement]"!==(l=c.toString())&&"[object HTMLCanvasElement]"!==l){if(!(isNaN(d)||0>=d)){switch(a.beginPath(),c){default:a.arc(e,f,d,0,$c);a.closePath();break;case "triangle":a.moveTo(e+
Math.sin(m)*d,f-Math.cos(m)*d);m+=wc;a.lineTo(e+Math.sin(m)*d,f-Math.cos(m)*d);m+=wc;a.lineTo(e+Math.sin(m)*d,f-Math.cos(m)*d);a.closePath();break;case "rectRounded":h=d-(d*=.516);c=Math.cos(m+Ga)*h;h*=Math.sin(m+Ga);a.arc(e-c,f-h,d,m-K,m-M);a.arc(e+h,f-c,d,m-M,m);a.arc(e+c,f+h,d,m,m+M);a.arc(e-h,f+c,d,m+M,m+K);a.closePath();break;case "rect":if(!h){h=Math.SQRT1_2*d;a.rect(e-h,f-h,2*h,2*h);break}m+=Ga;case "rectRot":c=Math.cos(m)*d;h=Math.sin(m)*d;a.moveTo(e-c,f-h);a.lineTo(e+h,f-c);a.lineTo(e+c,
f+h);a.lineTo(e-h,f+c);a.closePath();break;case "crossRot":m+=Ga;case "cross":c=Math.cos(m)*d;h=Math.sin(m)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);break;case "star":c=Math.cos(m)*d;h=Math.sin(m)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);m+=Ga;c=Math.cos(m)*d;h=Math.sin(m)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);a.moveTo(e+h,f-c);a.lineTo(e-h,f+c);break;case "line":c=Math.cos(m)*d;h=Math.sin(m)*d;a.moveTo(e-c,f-h);a.lineTo(e+c,f+h);break;
case "dash":a.moveTo(e,f),a.lineTo(e+Math.cos(m)*d,f+Math.sin(m)*d)}a.fill();a.stroke()}}else a.drawImage(c,e-c.width/2,f-c.height/2,c.width,c.height)},_isPointInArea:function(a,c){return a.x>c.left-1E-6&&a.x<c.right+1E-6&&a.y>c.top-1E-6&&a.y<c.bottom+1E-6},clipArea:function(a,c){a.save();a.beginPath();a.rect(c.left,c.top,c.right-c.left,c.bottom-c.top);a.clip()},unclipArea:function(a){a.restore()},lineTo:function(a,c,d,e){var f=d.steppedLine;f?("middle"===f?(f=(c.x+d.x)/2,a.lineTo(f,e?d.y:c.y),a.lineTo(f,
e?c.y:d.y)):"after"===f&&!e||"after"!==f&&e?a.lineTo(c.x,d.y):a.lineTo(d.x,c.y),a.lineTo(d.x,d.y)):d.tension?a.bezierCurveTo(e?c.controlPointPreviousX:c.controlPointNextX,e?c.controlPointPreviousY:c.controlPointNextY,e?d.controlPointNextX:d.controlPointPreviousX,e?d.controlPointNextY:d.controlPointPreviousY,d.x,d.y):a.lineTo(d.x,d.y)}};S.clear=Za.clear;S.drawRoundedRectangle=function(a){a.beginPath();Za.roundedRect.apply(Za,arguments)};var xc={_set:function(a,c){return S.merge(this[a]||(this[a]={}),
c)}};xc._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var z=xc,$a=S.valueOrDefault,k=S;k.easing=Yc;k.canvas=Za;k.options={toLineHeight:function(a,c){var d=(""+a).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!d||"normal"===d[1])return 1.2*c;switch(a=+d[2],d[3]){case "px":return a;case "%":a/=100}return c*a},toPadding:function(a){var c,
d,e,f;return S.isObject(a)?(c=+a.top||0,d=+a.right||0,e=+a.bottom||0,f=+a.left||0):c=d=e=f=+a||0,{top:c,right:d,bottom:e,left:f,height:c+e,width:f+d}},_parseFont:function(a){var c=z.global,d=$a(a.fontSize,c.defaultFontSize);a={family:$a(a.fontFamily,c.defaultFontFamily),lineHeight:S.options.toLineHeight($a(a.lineHeight,c.defaultLineHeight),d),size:d,style:$a(a.fontStyle,c.defaultFontStyle),weight:null,string:""};c=!a||S.isNullOrUndef(a.size)||S.isNullOrUndef(a.family)?null:(a.style?a.style+" ":"")+
(a.weight?a.weight+" ":"")+a.size+"px "+a.family;return a.string=c,a},resolve:function(a,c,d){var e,f;var h=0;for(e=a.length;h<e;++h)if(void 0!==(f=a[h])&&(void 0!==c&&"function"==typeof f&&(f=f(c)),void 0!==d&&S.isArray(f)&&(f=f[d]),void 0!==f))return f}};var N=function(a){k.extend(this,a);this.initialize.apply(this,arguments)};k.extend(N.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=k.clone(this._model)),this._start={},this},transition:function(a){var c=
this._model,d=this._start,e=this._view;if(c&&1!==a){e||(e=this._view={});d||(d=this._start={});var f,h,l,m,p,t,w=Object.keys(c);var x=0;for(f=w.length;x<f;++x)if(m=c[h=w[x]],e.hasOwnProperty(h)||(e[h]=m),(l=e[h])!==m&&"_"!==h[0]){if(d.hasOwnProperty(h)||(d[h]=l),(p=typeof m)==typeof(l=d[h]))if("string"===p){if((l=Ya(l)).valid&&(t=Ya(m)).valid){e[h]=t.mix(l,a).rgbString();continue}}else if(k.isFinite(l)&&k.isFinite(m)){e[h]=l+(m-l)*a;continue}e[h]=m}a=this}else a=(this._view=c,this._start=null,this);
return a},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return k.isNumber(this._model.x)&&k.isNumber(this._model.y)}});N.extend=k.inherits;var Ha=N.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(Ha.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(Ha.prototype,"chartInstance",{get:function(){return this.chart},set:function(a){this.chart=
a}});z._set("global",{animation:{duration:1E3,easing:"easeOutQuart",onProgress:k.noop,onComplete:k.noop}});var Db={animations:[],request:null,addAnimation:function(a,c,d,e){var f=this.animations;c.chart=a;c.startTime=Date.now();c.duration=d;e||(a.animating=!0);d=0;for(e=f.length;d<e;++d)if(f[d].chart===a)return void(f[d]=c);f.push(c);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(a){var c=k.findIndex(this.animations,function(c){return c.chart===a});-1!==c&&(this.animations.splice(c,
1),a.animating=!1)},requestAnimationFrame:function(){var a=this;null===a.request&&(a.request=k.requestAnimFrame.call(window,function(){a.request=null;a.startDigest()}))},startDigest:function(){this.advance();0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var a,c,d,e,f=this.animations,h=0;h<f.length;)c=(a=f[h]).chart,d=a.numSteps,e=Math.floor((Date.now()-a.startTime)/a.duration*d)+1,a.currentStep=Math.min(e,d),k.callback(a.render,[c,a],c),k.callback(a.onAnimationProgress,
[a],c),a.currentStep>=d?(k.callback(a.onAnimationComplete,[a],c),c.animating=!1,f.splice(h,1)):++h}},Eb=k.options.resolve,Zb=["push","pop","shift","splice","unshift"],Y=function(a,c){this.initialize(a,c)};k.extend(Y.prototype,{datasetElementType:null,dataElementType:null,initialize:function(a,c){this.chart=a;this.index=c;this.linkScales();this.addElements()},updateIndex:function(a){this.index=a},linkScales:function(){var a=this.getMeta(),c=this.getDataset();null!==a.xAxisID&&a.xAxisID in this.chart.scales||
(a.xAxisID=c.xAxisID||this.chart.options.scales.xAxes[0].id);null!==a.yAxisID&&a.yAxisID in this.chart.scales||(a.yAxisID=c.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(a){return this.chart.scales[a]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},
_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&Yb(this._data,this)},createMetaDataset:function(){var a=this.datasetElementType;return a&&new a({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(a){var c=this.dataElementType;return c&&new c({_chart:this.chart,_datasetIndex:this.index,_index:a})},addElements:function(){var a=this.getMeta();var c=this.getDataset().data||[];var d=a.data;
var e=0;for(c=c.length;e<c;++e)d[e]=d[e]||this.createMetaData(e);a.dataset=a.dataset||this.createMetaDataset()},addElementAndReset:function(a){var c=this.createMetaData(a);this.getMeta().data.splice(a,0,c);this.updateElement(c,a,!0)},buildOrUpdateElements:function(){var a=this.getDataset(),c=a.data||(a.data=[]);this._data!==c&&(this._data&&Yb(this._data,this),c&&Object.isExtensible(c)&&(c._chartjs?c._chartjs.listeners.push(this):(Object.defineProperty(c,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),
Zb.forEach(function(a){var d="onData"+a.charAt(0).toUpperCase()+a.slice(1),f=c[a];Object.defineProperty(c,a,{configurable:!0,enumerable:!1,value:function(){var a=Array.prototype.slice.call(arguments),e=f.apply(this,a);return k.each(c._chartjs.listeners,function(c){"function"==typeof c[d]&&c[d].apply(c,a)}),e}})}))),this._data=c);this.resyncElements()},update:k.noop,transition:function(a){for(var c=this.getMeta(),d=c.data||[],e=d.length,f=0;f<e;++f)d[f].transition(a);c.dataset&&c.dataset.transition(a)},
draw:function(){var a=this.getMeta(),c=a.data||[],d=c.length,e=0;for(a.dataset&&a.dataset.draw();e<d;++e)c[e].draw()},removeHoverStyle:function(a){k.merge(a._model,a.$previousStyle||{});delete a.$previousStyle},setHoverStyle:function(a){var c=this.chart.data.datasets[a._datasetIndex],d=a._index,e=a.custom||{},f=a._model,h=k.getHoverColor;a.$previousStyle={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth};f.backgroundColor=Eb([e.hoverBackgroundColor,c.hoverBackgroundColor,
h(f.backgroundColor)],void 0,d);f.borderColor=Eb([e.hoverBorderColor,c.hoverBorderColor,h(f.borderColor)],void 0,d);f.borderWidth=Eb([e.hoverBorderWidth,c.hoverBorderWidth,f.borderWidth],void 0,d)},resyncElements:function(){var a=this.getMeta(),c=this.getDataset().data,d=a.data.length;c=c.length;c<d?a.data.splice(c,d-c):c>d&&this.insertElements(d,c-d)},insertElements:function(a,c){for(var d=0;d<c;++d)this.addElementAndReset(a+d)},onDataPush:function(){var a=arguments.length;this.insertElements(this.getDataset().data.length-
a,a)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(a,c){this.getMeta().data.splice(a,c);this.insertElements(a,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});Y.extend=k.inherits;z._set("global",{elements:{arc:{backgroundColor:z.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ad=N.extend({inLabelRange:function(a){var c=this._view;return!!c&&Math.pow(a-
c.x,2)<Math.pow(c.radius+c.hoverRadius,2)},inRange:function(a,c){var d=this._view;if(d){var e=k.getAngleFromPoint(d,{x:a,y:c}),f=e.angle,h=e.distance;e=d.startAngle;for(var l=d.endAngle;l<e;)l+=2*Math.PI;for(;f>l;)f-=2*Math.PI;for(;f<e;)f+=2*Math.PI;d=h>=d.innerRadius&&h<=d.outerRadius;return f>=e&&f<=l&&d}return!1},getCenterPoint:function(){var a=this._view,c=(a.startAngle+a.endAngle)/2,d=(a.innerRadius+a.outerRadius)/2;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},getArea:function(){var a=this._view;
return(a.endAngle-a.startAngle)/(2*Math.PI)*Math.PI*(Math.pow(a.outerRadius,2)-Math.pow(a.innerRadius,2))},tooltipPosition:function(){var a=this._view,c=a.startAngle+(a.endAngle-a.startAngle)/2,d=(a.outerRadius-a.innerRadius)/2+a.innerRadius;return{x:a.x+Math.cos(c)*d,y:a.y+Math.sin(c)*d}},draw:function(){var a,c=this._chart.ctx,d=this._view,e=d.startAngle,f=d.endAngle,h="inner"===d.borderAlign?.33:0;c.save();c.beginPath();c.arc(d.x,d.y,Math.max(d.outerRadius-h,0),e,f);c.arc(d.x,d.y,d.innerRadius,
f,e,!0);c.closePath();c.fillStyle=d.backgroundColor;c.fill();d.borderWidth&&("inner"===d.borderAlign?(c.beginPath(),a=h/d.outerRadius,c.arc(d.x,d.y,d.outerRadius,e-a,f+a),d.innerRadius>h?(a=h/d.innerRadius,c.arc(d.x,d.y,d.innerRadius-h,f+a,e-a,!0)):c.arc(d.x,d.y,h,f+Math.PI/2,e-Math.PI/2),c.closePath(),c.clip(),c.beginPath(),c.arc(d.x,d.y,d.outerRadius,e,f),c.arc(d.x,d.y,d.innerRadius,f,e,!0),c.closePath(),c.lineWidth=2*d.borderWidth,c.lineJoin="round"):(c.lineWidth=d.borderWidth,c.lineJoin="bevel"),
c.strokeStyle=d.borderColor,c.stroke());c.restore()}}),yc=k.valueOrDefault,zc=z.global.defaultColor;z._set("global",{elements:{line:{tension:.4,backgroundColor:zc,borderWidth:3,borderColor:zc,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var bd=N.extend({draw:function(){var a=this._view;var c=this._chart.ctx,d=a.spanGaps,e=this._children.slice();var f=z.global;var h=f.elements.line;this._loop&&e.length&&e.push(e[0]);c.save();c.lineCap=
a.borderCapStyle||h.borderCapStyle;c.setLineDash&&c.setLineDash(a.borderDash||h.borderDash);c.lineDashOffset=yc(a.borderDashOffset,h.borderDashOffset);c.lineJoin=a.borderJoinStyle||h.borderJoinStyle;c.lineWidth=yc(a.borderWidth,h.borderWidth);c.strokeStyle=a.borderColor||f.defaultColor;c.beginPath();var l=-1;for(a=0;a<e.length;++a){f=e[a];h=k.previousItem(e,a);var m=f._view;0===a?m.skip||(c.moveTo(m.x,m.y),l=a):(h=-1===l?h:e[l],m.skip||(l!==a-1&&!d||-1===l?c.moveTo(m.x,m.y):k.canvas.lineTo(c,h._view,
f._view),l=a))}c.stroke();c.restore()}}),cd=k.valueOrDefault,Ac=z.global.defaultColor;z._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ac,borderColor:Ac,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var dd=N.extend({inRange:function(a,c){var d=this._view;return!!d&&Math.pow(a-d.x,2)+Math.pow(c-d.y,2)<Math.pow(d.hitRadius+d.radius,2)},inLabelRange:$b,inXRange:$b,inYRange:function(a){var c=this._view;return!!c&&Math.abs(a-c.y)<c.radius+c.hitRadius},getCenterPoint:function(){var a=
this._view;return{x:a.x,y:a.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y,padding:a.radius+a.borderWidth}},draw:function(a){var c=this._view,d=this._chart.ctx,e=c.pointStyle,f=c.rotation,h=c.radius,l=c.x,m=c.y,p=z.global,t=p.defaultColor;c.skip||(void 0===a||k.canvas._isPointInArea(c,a))&&(d.strokeStyle=c.borderColor||t,d.lineWidth=cd(c.borderWidth,p.elements.point.borderWidth),d.fillStyle=c.backgroundColor||t,k.canvas.drawPoint(d,
e,h,l,m,f))}}),Bc=z.global.defaultColor;z._set("global",{elements:{rectangle:{backgroundColor:Bc,borderColor:Bc,borderSkipped:"bottom",borderWidth:0}}});var G={},ed=N.extend({draw:function(){var a,c,d=this._chart.ctx,e=this._view,f=ac(e),h=f.right-f.left,l=f.bottom-f.top;var m=h/2;var p=l/2,t,w,x=e.borderWidth;var u=e.borderSkipped;var H={};u?(e.horizontal?e.base>e.x&&(u="left"===u?"right":"right"===u?"left":u):e.base<e.y&&(u="bottom"===u?"top":"top"===u?"bottom":u),u=(H[u]=!0,H)):u=H;m=(k.isObject(x)?
(a=+x.top||0,c=+x.right||0,t=+x.bottom||0,w=+x.left||0):a=c=t=w=+x||0,{t:u.top||0>a?0:a>p?p:a,r:u.right||0>c?0:c>m?m:c,b:u.bottom||0>t?0:t>p?p:t,l:u.left||0>w?0:w>m?m:w});a=f.left;c=f.top;t=f.left+m.l;f=f.top+m.t;w=h-m.l-m.r;m=l-m.t-m.b;d.fillStyle=e.backgroundColor;d.fillRect(a,c,h,l);h===w&&l===m||(d.save(),d.beginPath(),d.rect(a,c,h,l),d.clip(),d.fillStyle=e.borderColor,d.rect(t,f,w,m),d.fill("evenodd"),d.restore())},height:function(){var a=this._view;return a.base-a.y},inRange:function(a,c){return xa(this._view,
a,c)},inLabelRange:function(a,c){var d=this._view;return Oa(d)?xa(d,a,null):xa(d,null,c)},inXRange:function(a){return xa(this._view,a,null)},inYRange:function(a){return xa(this._view,null,a)},getCenterPoint:function(){var a,c,d=this._view;return Oa(d)?(a=d.x,c=(d.y+d.base)/2):(a=(d.x+d.base)/2,c=d.y),{x:a,y:c}},getArea:function(){var a=this._view;return Oa(a)?a.width*Math.abs(a.y-a.base):a.height*Math.abs(a.x-a.base)},tooltipPosition:function(){var a=this._view;return{x:a.x,y:a.y}}});G.Arc=ad;G.Line=
bd;G.Point=dd;G.Rectangle=ed;var fd=k.options.resolve;z._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Cc=Y.extend({dataElementType:G.Rectangle,initialize:function(){var a;Y.prototype.initialize.apply(this,arguments);(a=this.getMeta()).stack=this.getDataset().stack;a.bar=!0},update:function(a){var c,d=this.getMeta().data;this._ruler=this.getRuler();var e=0;for(c=d.length;e<
c;++e)this.updateElement(d[e],e,a)},updateElement:function(a,c,d){var e=this.getMeta(),f=this.getDataset(),h=this._resolveElementOptions(a,c);a._xScale=this.getScaleForId(e.xAxisID);a._yScale=this.getScaleForId(e.yAxisID);a._datasetIndex=this.index;a._index=c;a._model={backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderSkipped:h.borderSkipped,borderWidth:h.borderWidth,datasetLabel:f.label,label:this.chart.data.labels[c]};this._updateElementGeometry(a,c,d);a.pivot()},_updateElementGeometry:function(a,
c,d){a=a._model;var e=this._getValueScale(),f=e.getBasePixel();e=e.isHorizontal();var h=this._ruler||this.getRuler(),l=this.calculateBarValuePixels(this.index,c);c=this.calculateBarIndexPixels(this.index,c,h);a.horizontal=e;a.base=d?f:l.base;a.x=e?d?f:l.head:c.center;a.y=e?c.center:d?f:l.head;a.height=e?c.size:void 0;a.width=e?void 0:c.size},_getStacks:function(a){var c,d=this.chart,e=this._getIndexScale().options.stacked,f=void 0===a?d.data.datasets.length:a+1,h=[];for(a=0;a<f;++a)(c=d.getDatasetMeta(a)).bar&&
d.isDatasetVisible(a)&&(!1===e||!0===e&&-1===h.indexOf(c.stack)||void 0===e&&(void 0===c.stack||-1===h.indexOf(c.stack)))&&h.push(c.stack);return h},getStackCount:function(){return this._getStacks().length},getStackIndex:function(a,c){var d=this._getStacks(a),e=void 0!==c?d.indexOf(c):-1;return-1===e?d.length-1:e},getRuler:function(){var a,c=this._getIndexScale(),d=this.getStackCount(),e=this.index,f=c.isHorizontal(),h=f?c.left:c.top;f=h+(f?c.width:c.height);var l=[];var m=0;for(a=this.getMeta().data.length;m<
a;++m)l.push(c.getPixelForValue(null,m,e));if(k.isNullOrUndef(c.options.barThickness)){a=c.isHorizontal()?c.width:c.height;var p=c.getTicks();e=1;for(m=l.length;e<m;++e)a=Math.min(a,Math.abs(l[e]-l[e-1]));e=0;for(m=p.length;e<m;++e){p=c.getPixelForTick(e);a=0<e?Math.min(a,p-t):a;var t=p}t=a}else t=-1;return{min:t,pixels:l,start:h,end:f,stackCount:d,scale:c}},calculateBarValuePixels:function(a,c){var d,e,f,h,l,m=this.chart,k=this.getMeta(),t=this._getValueScale(),w=t.isHorizontal(),x=m.data.datasets,
u=+t.getRightValue(x[a].data[c]),H=t.options.minBarLength;var n=t.options.stacked;k=k.stack;var q=0;if(n||void 0===n&&void 0!==k)for(n=0;n<a;++n)(d=m.getDatasetMeta(n)).bar&&d.stack===k&&d.controller._getValueScaleId()===t.id&&m.isDatasetVisible(n)&&(e=+t.getRightValue(x[n].data[c]),(0>u&&0>e||0<=u&&0<e)&&(q+=e));return f=t.getPixelForValue(q),l=(h=t.getPixelForValue(q+u))-f,void 0!==H&&Math.abs(l)<H&&(l=H,h=0<=u&&!w||0>u&&w?f-H:f+H),{size:l,base:f,head:h,center:h+l/2}},calculateBarIndexPixels:function(a,
c,d){var e=d.scale.options;c="flex"===e.barThickness?function(a,c,d){var e,f=c.pixels,h=f[a],l=0<a?f[a-1]:null;a=a<f.length-1?f[a+1]:null;f=d.categoryPercentage;return null===l&&(l=h-(null===a?c.end-c.start:a-h)),null===a&&(a=h+h-l),e=h-(h-Math.min(l,a))/2*f,{chunk:Math.abs(a-l)/2*f/c.stackCount,ratio:d.barPercentage,start:e}}(c,d,e):function(a,c,d){var e,f,h=d.barThickness,l=c.stackCount;a=c.pixels[a];return k.isNullOrUndef(h)?(e=c.min*d.categoryPercentage,f=d.barPercentage):(e=h*l,f=1),{chunk:e/
l,ratio:f,start:a-e/2}}(c,d,e);a=this.getStackIndex(a,this.getMeta().stack);a=c.start+c.chunk*a+c.chunk/2;e=Math.min(k.valueOrDefault(e.maxBarThickness,1/0),c.chunk*c.ratio);return{base:a-e/2,head:a+e/2,center:a,size:e}},draw:function(){var a=this.chart,c=this._getValueScale(),d=this.getMeta().data,e=this.getDataset(),f=d.length,h=0;for(k.canvas.clipArea(a.ctx,a.chartArea);h<f;++h)isNaN(c.getRightValue(e.data[h]))||d[h].draw();k.canvas.unclipArea(a.ctx)},_resolveElementOptions:function(a,c){var d,
e;var f=this.chart;var h=f.data.datasets[this.index],l=a.custom||{},m=f.options.elements.rectangle,k={},t={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},w=["backgroundColor","borderColor","borderSkipped","borderWidth"];f=0;for(d=w.length;f<d;++f)k[e=w[f]]=fd([l[e],h[e],m[e]],t,c);return k}}),Fb=k.valueOrDefault,Dc=k.options.resolve;z._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},
tooltips:{callbacks:{title:function(){return""},label:function(a,c){return(c.datasets[a.datasetIndex].label||"")+": ("+a.xLabel+", "+a.yLabel+", "+c.datasets[a.datasetIndex].data[a.index].r+")"}}}});var gd=Y.extend({dataElementType:G.Point,update:function(a){var c=this,d=c.getMeta().data;k.each(d,function(d,f){c.updateElement(d,f,a)})},updateElement:function(a,c,d){var e=this.getMeta(),f=a.custom||{},h=this.getScaleForId(e.xAxisID);e=this.getScaleForId(e.yAxisID);var l=this._resolveElementOptions(a,
c),m=this.getDataset().data[c],k=this.index,t=d?h.getPixelForDecimal(.5):h.getPixelForValue("object"==typeof m?m:NaN,c,k);m=d?e.getBasePixel():e.getPixelForValue(m,c,k);a._xScale=h;a._yScale=e;a._options=l;a._datasetIndex=k;a._index=c;a._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:d?0:l.radius,skip:f.skip||isNaN(t)||isNaN(m),x:t,y:m};a.pivot()},setHoverStyle:function(a){var c=
a._model,d=a._options,e=k.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=Fb(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=Fb(d.hoverBorderColor,e(d.borderColor));c.borderWidth=Fb(d.hoverBorderWidth,d.borderWidth);c.radius=d.radius+d.hoverRadius},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index],l=a.custom||{},m=f.options.elements.point,
k=h.data[c],t={},w={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},x="backgroundColor borderColor borderWidth hoverBackgroundColor hoverBorderColor hoverBorderWidth hoverRadius hitRadius pointStyle rotation".split(" ");f=0;for(d=x.length;f<d;++f)t[e=x[f]]=Dc([l[e],h[e],m[e]],w,c);return t.radius=Dc([l.radius,k?k.r:void 0,h.radius,m.radius],w,c),t}}),ab=k.options.resolve,bb=k.valueOrDefault;z._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(a){var c=
[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),h=c.datasets[0],l=f.data[e];l=l&&l.custom||{};var m=a.options.elements.arc;
return{text:d,fillStyle:ab([l.backgroundColor,h.backgroundColor,m.backgroundColor],void 0,e),strokeStyle:ab([l.borderColor,h.borderColor,m.borderColor],void 0,e),lineWidth:ab([l.borderWidth,h.borderWidth,m.borderWidth],void 0,e),hidden:isNaN(h.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e,f=c.index,h=this.chart;var l=0;for(d=(h.data.datasets||[]).length;l<d;++l)(e=h.getDatasetMeta(l)).data[f]&&(e.data[f].hidden=!e.data[f].hidden);h.update()}},cutoutPercentage:50,rotation:-.5*
Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(a,c){var d=c.labels[a.index],e=": "+c.datasets[a.datasetIndex].data[a.index];return k.isArray(d)?(d=d.slice())[0]+=e:d+=e,d}}}});var Ec=Y.extend({dataElementType:G.Arc,linkScales:k.noop,getRingIndex:function(a){for(var c=0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&++c;return c},update:function(a){var c=this.chart,d=c.chartArea,e=c.options;var f=d.right-d.left;var h=d.bottom-d.top;var l=Math.min(f,h),m=
0,k=0;d=this.getMeta();var t=d.data,w=e.cutoutPercentage,x=e.circumference,u=this._getRingWeight(this.index);if(x<2*Math.PI){l=e.rotation%(2*Math.PI);e=(l+=2*Math.PI*(l>=Math.PI?-1:l<-Math.PI?1:0))+x;var H=Math.cos(l);x=Math.sin(l);var n=Math.cos(e),q=Math.sin(e),v=w/100;m=l<=-Math.PI&&-Math.PI<=e||l<=Math.PI&&Math.PI<=e?-1:Math.min(H*(0>H?1:v),n*(0>n?1:v));k=l<=.5*-Math.PI&&.5*-Math.PI<=e||l<=1.5*Math.PI&&1.5*Math.PI<=e?-1:Math.min(x*(0>x?1:v),q*(0>q?1:v));H=0>=l&&0<=e||l<=2*Math.PI&&2*Math.PI<=
e?1:Math.max(H*(0<H?1:v),n*(0<n?1:v));e=l<=.5*Math.PI&&.5*Math.PI<=e||l<=2.5*Math.PI&&2.5*Math.PI<=e?1:Math.max(x*(0<x?1:v),q*(0<q?1:v));l=Math.min(f/(.5*(H-m)),h/(.5*(e-k)));m=-.5*(H+m);k=-.5*(e+k)}f=0;for(h=t.length;f<h;++f)t[f]._options=this._resolveElementOptions(t[f],f);c.borderWidth=this.getMaxBorderWidth();c.outerRadius=Math.max((l-c.borderWidth)/2,0);c.innerRadius=Math.max(w?c.outerRadius/100*w:0,0);c.radiusLength=(c.outerRadius-c.innerRadius)/(this._getVisibleDatasetWeightTotal()||1);c.offsetX=
m*c.outerRadius;c.offsetY=k*c.outerRadius;d.total=this.calculateTotal();this.outerRadius=c.outerRadius-c.radiusLength*this._getRingWeightOffset(this.index);this.innerRadius=Math.max(this.outerRadius-c.radiusLength*u,0);f=0;for(h=t.length;f<h;++f)this.updateElement(t[f],f,a)},updateElement:function(a,c,d){var e=this.chart,f=e.chartArea,h=e.options,l=h.animation,m=(f.left+f.right)/2;f=(f.top+f.bottom)/2;var p=h.rotation,t=h.rotation,w=this.getDataset(),x=d&&l.animateRotate?0:a.hidden?0:this.calculateCircumference(w.data[c])*
(h.circumference/(2*Math.PI)),u=a._options||{};k.extend(a,{_datasetIndex:this.index,_index:c,_model:{backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,borderAlign:u.borderAlign,x:m+e.offsetX,y:f+e.offsetY,startAngle:p,endAngle:t,circumference:x,outerRadius:d&&l.animateScale?0:this.outerRadius,innerRadius:d&&l.animateScale?0:this.innerRadius,label:k.valueAtIndexOrDefault(w.label,c,e.data.labels[c])}});e=a._model;d&&l.animateRotate||(e.startAngle=0===c?h.rotation:
this.getMeta().data[c-1]._model.endAngle,e.endAngle=e.startAngle+e.circumference);a.pivot()},calculateTotal:function(){var a,c=this.getDataset(),d=this.getMeta(),e=0;return k.each(d.data,function(d,h){a=c.data[h];isNaN(a)||d.hidden||(e+=Math.abs(a))}),e},calculateCircumference:function(a){var c=this.getMeta().total;return 0<c&&!isNaN(a)?Math.abs(a)/c*Math.PI*2:0},getMaxBorderWidth:function(a){var c,d,e,f,h,l=0;var m=this.chart;if(!a){var k=0;for(c=m.data.datasets.length;k<c;++k)if(m.isDatasetVisible(k)){a=
(c=m.getDatasetMeta(k)).data;k!==this.index&&(d=c.controller);break}}if(!a)return 0;k=0;for(c=a.length;k<c;++k)m=a[k],"inner"!==(e=d?d._resolveElementOptions(m,k):m._options).borderAlign&&(f=e.borderWidth,l=(h=e.hoverBorderWidth)>(l=f>l?f:l)?h:l);return l},setHoverStyle:function(a){var c=a._model,d=a._options,e=k.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=bb(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=
bb(d.hoverBorderColor,e(d.borderColor));c.borderWidth=bb(d.hoverBorderWidth,d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=this.getDataset(),l=a.custom||{},m=f.options.elements.arc,k={},t={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},w="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=w.length;f<d;++f)k[e=w[f]]=ab([l[e],h[e],m[e]],t,c);return k},_getRingWeightOffset:function(a){for(var c=
0,d=0;d<a;++d)this.chart.isDatasetVisible(d)&&(c+=this._getRingWeight(d));return c},_getRingWeight:function(a){return Math.max(bb(this.chart.data.datasets[a].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});z._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},
elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var hd=Cc.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),da=k.valueOrDefault,Gb=k.options.resolve,Hb=k.canvas._isPointInArea;z._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Fc=Y.extend({datasetElementType:G.Line,dataElementType:G.Point,
update:function(a){var c=this.getMeta(),d=c.dataset,e=c.data||[];var f=this.getScaleForId(c.yAxisID);var h=this.getDataset();(c=da(h.showLine,this.chart.options.showLines))&&(void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),d._scale=f,d._datasetIndex=this.index,d._children=e,d._model=this._resolveLineOptions(d),d.pivot());f=0;for(h=e.length;f<h;++f)this.updateElement(e[f],f,a);c&&0!==d._model.tension&&this.updateBezierControlPoints();f=0;for(h=e.length;f<h;++f)e[f].pivot()},updateElement:function(a,
c,d){var e=this.getMeta();var f=a.custom||{},h=this.getDataset(),l=this.index,m=h.data[c];h=this.getScaleForId(e.yAxisID);var k=this.getScaleForId(e.xAxisID),t=e.dataset._model,w=this._resolvePointOptions(a,c);e=k.getPixelForValue("object"==typeof m?m:NaN,c,l);d=d?h.getBasePixel():this.calculatePointY(m,c,l);a._xScale=k;a._yScale=h;a._options=w;a._datasetIndex=l;a._index=c;a._model={x:e,y:d,skip:f.skip||isNaN(e)||isNaN(d),radius:w.radius,pointStyle:w.pointStyle,rotation:w.rotation,backgroundColor:w.backgroundColor,
borderColor:w.borderColor,borderWidth:w.borderWidth,tension:da(f.tension,t?t.tension:0),steppedLine:!!t&&t.steppedLine,hitRadius:w.hitRadius}},_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index],l=a.custom||{},m=f.options.elements.point,k={},t={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},w={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",
hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},x=Object.keys(w);f=0;for(d=x.length;f<d;++f)k[e=x[f]]=Gb([l[e],h[w[e]],h[e],m[e]],t,c);return k},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var h=e.options,l=h.elements.line,m={},k="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill cubicInterpolationMode".split(" ");
e=0;for(c=k.length;e<c;++e)m[d=k[e]]=Gb([a[d],f[d],l[d]]);return m.spanGaps=da(f.spanGaps,h.spanGaps),m.tension=da(f.lineTension,l.tension),m.steppedLine=Gb([a.steppedLine,f.steppedLine,l.stepped]),m},calculatePointY:function(a,c,d){var e,f,h,l=this.chart,m=this.getMeta();m=this.getScaleForId(m.yAxisID);var k=0,t=0;if(m.options.stacked){for(e=0;e<d;e++)if(f=l.data.datasets[e],"line"===(h=l.getDatasetMeta(e)).type&&h.yAxisID===m.id&&l.isDatasetVisible(e))f=Number(m.getRightValue(f.data[c])),0>f?t+=
f||0:k+=f||0;a=Number(m.getRightValue(a));return 0>a?m.getPixelForValue(t+a):m.getPixelForValue(k+a)}return m.getPixelForValue(a)},updateBezierControlPoints:function(){var a,c=this.chart;var d=this.getMeta();var e=d.dataset._model,f=c.chartArea,h=d.data||[];if(e.spanGaps&&(h=h.filter(function(a){return!a._model.skip})),"monotone"===e.cubicInterpolationMode)k.splineCurveMonotone(h);else for(d=0,a=h.length;d<a;++d){var l=h[d]._model;var m=k.splineCurve(k.previousItem(h,d)._model,l,k.nextItem(h,d)._model,
e.tension);l.controlPointPreviousX=m.previous.x;l.controlPointPreviousY=m.previous.y;l.controlPointNextX=m.next.x;l.controlPointNextY=m.next.y}if(c.options.elements.line.capBezierPoints)for(d=0,a=h.length;d<a;++d)l=h[d]._model,Hb(l,f)&&(0<d&&Hb(h[d-1]._model,f)&&(l.controlPointPreviousX=Math.max(Math.min(l.controlPointPreviousX,f.right),f.left),l.controlPointPreviousY=Math.max(Math.min(l.controlPointPreviousY,f.bottom),f.top)),d<h.length-1&&Hb(h[d+1]._model,f)&&(l.controlPointNextX=Math.max(Math.min(l.controlPointNextX,
f.right),f.left),l.controlPointNextY=Math.max(Math.min(l.controlPointNextY,f.bottom),f.top)))},draw:function(){var a,c=this.chart,d=this.getMeta(),e=d.data||[],f=c.chartArea,h=e.length,l=0,m=this.getDataset();for(da(m.showLine,c.options.showLines)&&(a=(d.dataset._model.borderWidth||0)/2,k.canvas.clipArea(c.ctx,{left:f.left,right:f.right,top:f.top-a,bottom:f.bottom+a}),d.dataset.draw(),k.canvas.unclipArea(c.ctx));l<h;++l)e[l].draw(f)},setHoverStyle:function(a){var c=a._model,d=a._options,e=k.getHoverColor;
a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=da(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=da(d.hoverBorderColor,e(d.borderColor));c.borderWidth=da(d.hoverBorderWidth,d.borderWidth);c.radius=da(d.hoverRadius,d.radius)}}),Ia=k.options.resolve;z._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,
animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');var d=a.data;a=d.datasets;d=d.labels;if(a.length)for(var e=0;e<a[0].data.length;++e)c.push('<li><span style="background-color:'+a[0].backgroundColor[e]+'"></span>'),d[e]&&c.push(d[e]),c.push("</li>");return c.push("</ul>"),c.join("")},legend:{labels:{generateLabels:function(a){var c=a.data;return c.labels.length&&c.datasets.length?c.labels.map(function(d,e){var f=a.getDatasetMeta(0),
h=c.datasets[0],l=f.data[e].custom||{},m=a.options.elements.arc;return{text:d,fillStyle:Ia([l.backgroundColor,h.backgroundColor,m.backgroundColor],void 0,e),strokeStyle:Ia([l.borderColor,h.borderColor,m.borderColor],void 0,e),lineWidth:Ia([l.borderWidth,h.borderWidth,m.borderWidth],void 0,e),hidden:isNaN(h.data[e])||f.data[e].hidden,index:e}}):[]}},onClick:function(a,c){var d,e,f=c.index,h=this.chart;var l=0;for(d=(h.data.datasets||[]).length;l<d;++l)(e=h.getDatasetMeta(l)).data[f].hidden=!e.data[f].hidden;
h.update()}},tooltips:{callbacks:{title:function(){return""},label:function(a,c){return c.labels[a.index]+": "+a.yLabel}}}});var id=Y.extend({dataElementType:G.Arc,linkScales:k.noop,update:function(a){var c=this.getDataset();var d=this.getMeta();var e=this.chart.options.startAngle||0,f=this._starts=[],h=this._angles=[],l=d.data;this._updateRadius();d.count=this.countVisibleElements();d=0;for(c=c.data.length;d<c;d++){f[d]=e;var m=this._computeAngle(d);h[d]=m;e+=m}d=0;for(c=l.length;d<c;++d)l[d]._options=
this._resolveElementOptions(l[d],d),this.updateElement(l[d],d,a)},_updateRadius:function(){var a=this.chart,c=a.chartArea,d=a.options;a.outerRadius=Math.max(Math.min(c.right-c.left,c.bottom-c.top)/2,0);a.innerRadius=Math.max(d.cutoutPercentage?a.outerRadius/100*d.cutoutPercentage:1,0);a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount();this.outerRadius=a.outerRadius-a.radiusLength*this.index;this.innerRadius=this.outerRadius-a.radiusLength},updateElement:function(a,c,d){var e=
this.chart,f=this.getDataset(),h=e.options,l=h.animation,m=e.scale;e=e.data.labels;var p=m.xCenter,t=m.yCenter;h=h.startAngle;var w=a.hidden?0:m.getDistanceFromCenterForValue(f.data[c]),x=this._starts[c],u=x+(a.hidden?0:this._angles[c]);f=l.animateScale?0:m.getDistanceFromCenterForValue(f.data[c]);var n=a._options||{};k.extend(a,{_datasetIndex:this.index,_index:c,_scale:m,_model:{backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth,borderAlign:n.borderAlign,x:p,y:t,
innerRadius:0,outerRadius:d?f:w,startAngle:d&&l.animateRotate?h:x,endAngle:d&&l.animateRotate?h:u,label:k.valueAtIndexOrDefault(e,c,e[c])}});a.pivot()},countVisibleElements:function(){var a=this.getDataset(),c=this.getMeta(),d=0;return k.each(c.data,function(c,f){isNaN(a.data[f])||c.hidden||d++}),d},setHoverStyle:function(a){var c=a._model,d=a._options,e=k.getHoverColor,f=k.valueOrDefault;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth};c.backgroundColor=
f(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=f(d.hoverBorderColor,e(d.borderColor));c.borderWidth=f(d.hoverBorderWidth,d.borderWidth)},_resolveElementOptions:function(a,c){var d,e;var f=this.chart;var h=this.getDataset(),l=a.custom||{},m=f.options.elements.arc,k={},t={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},w="backgroundColor borderColor borderWidth borderAlign hoverBackgroundColor hoverBorderColor hoverBorderWidth".split(" ");f=0;for(d=w.length;f<d;++f)k[e=w[f]]=Ia([l[e],
h[e],m[e]],t,c);return k},_computeAngle:function(a){var c=this.getMeta().count,d=this.getDataset(),e=this.getMeta();return isNaN(d.data[a])||e.data[a].hidden?0:Ia([this.chart.options.elements.arc.angle,2*Math.PI/c],{chart:this.chart,dataIndex:a,dataset:d,datasetIndex:this.index},a)}});z._set("pie",k.clone(z.doughnut));z._set("pie",{cutoutPercentage:0});var ra=k.valueOrDefault,Gc=k.options.resolve;z._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var jd=Y.extend({datasetElementType:G.Line,
dataElementType:G.Point,linkScales:k.noop,update:function(a){var c=this.getMeta();var d=c.dataset;c=c.data||[];var e=this.chart.scale;var f=this.getDataset();void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension);d._scale=e;d._datasetIndex=this.index;d._children=c;d._loop=!0;d._model=this._resolveLineOptions(d);d.pivot();d=0;for(e=c.length;d<e;++d)this.updateElement(c[d],d,a);this.updateBezierControlPoints();d=0;for(e=c.length;d<e;++d)c[d].pivot()},updateElement:function(a,c,d){var e=
a.custom||{},f=this.getDataset(),h=this.chart.scale,l=h.getPointPositionForValue(c,f.data[c]);f=this._resolvePointOptions(a,c);var k=this.getMeta().dataset._model,p=d?h.xCenter:l.x;d=d?h.yCenter:l.y;a._scale=h;a._options=f;a._datasetIndex=this.index;a._index=c;a._model={x:p,y:d,skip:e.skip||isNaN(p)||isNaN(d),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:ra(e.tension,k?k.tension:0),hitRadius:f.hitRadius}},
_resolvePointOptions:function(a,c){var d,e;var f=this.chart;var h=f.data.datasets[this.index],l=a.custom||{},k=f.options.elements.point,p={},t={chart:f,dataIndex:c,dataset:h,datasetIndex:this.index},w={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",
radius:"pointRadius",rotation:"pointRotation"},x=Object.keys(w);f=0;for(d=x.length;f<d;++f)p[e=x[f]]=Gc([l[e],h[w[e]],h[e],k[e]],t,c);return p},_resolveLineOptions:function(a){var c,d;var e=this.chart;var f=e.data.datasets[this.index];a=a.custom||{};var h=e.options.elements.line,l={},k="backgroundColor borderWidth borderColor borderCapStyle borderDash borderDashOffset borderJoinStyle fill".split(" ");e=0;for(c=k.length;e<c;++e)l[d=k[e]]=Gc([a[d],f[d],h[d]]);return l.tension=ra(f.lineTension,h.tension),
l},updateBezierControlPoints:function(){var a;var c=this.getMeta();var d=this.chart.chartArea,e=c.data||[];c=0;for(a=e.length;c<a;++c){var f=e[c]._model;var h=k.splineCurve(k.previousItem(e,c,!0)._model,f,k.nextItem(e,c,!0)._model,f.tension);f.controlPointPreviousX=Math.max(Math.min(h.previous.x,d.right),d.left);f.controlPointPreviousY=Math.max(Math.min(h.previous.y,d.bottom),d.top);f.controlPointNextX=Math.max(Math.min(h.next.x,d.right),d.left);f.controlPointNextY=Math.max(Math.min(h.next.y,d.bottom),
d.top)}},setHoverStyle:function(a){var c=a._model,d=a._options,e=k.getHoverColor;a.$previousStyle={backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,radius:c.radius};c.backgroundColor=ra(d.hoverBackgroundColor,e(d.backgroundColor));c.borderColor=ra(d.hoverBorderColor,e(d.borderColor));c.borderWidth=ra(d.hoverBorderWidth,d.borderWidth);c.radius=ra(d.hoverRadius,d.radius)}});z._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],
yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(a){return"("+a.xLabel+", "+a.yLabel+")"}}}});var Hc={bar:Cc,bubble:gd,doughnut:Ec,horizontalBar:hd,line:Fc,polarArea:id,pie:Ec,radar:jd,scatter:Fc},sa={modes:{single:function(a,c){var d=ja(c,a),e=[];return ya(a,function(a){if(a.inRange(d.x,d.y))return e.push(a),e}),e.slice(0,1)},label:pb,index:pb,dataset:function(a,c,d){c=ja(c,a);d.axis=d.axis||"xy";var e=ob(d.axis);d=
d.intersect?mb(a,c):nb(a,c,!1,e);return 0<d.length&&(d=a.getDatasetMeta(d[0]._datasetIndex).data),d},"x-axis":function(a,c){return pb(a,c,{intersect:!1})},point:function(a,c){return mb(a,ja(c,a))},nearest:function(a,c,d){c=ja(c,a);d.axis=d.axis||"xy";var e=ob(d.axis);return nb(a,c,d.intersect,e)},x:function(a,c,d){var e=ja(c,a),f=[],h=!1;return ya(a,function(a){a.inXRange(e.x)&&f.push(a);a.inRange(e.x,e.y)&&(h=!0)}),d.intersect&&!h&&(f=[]),f},y:function(a,c,d){var e=ja(c,a),f=[],h=!1;return ya(a,
function(a){a.inYRange(e.y)&&f.push(a);a.inRange(e.x,e.y)&&(h=!0)}),d.intersect&&!h&&(f=[]),f}}};z._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var P={defaults:{},addBox:function(a,c){a.boxes||(a.boxes=[]);c.fullWidth=c.fullWidth||!1;c.position=c.position||"top";c.weight=c.weight||0;a.boxes.push(c)},removeBox:function(a,c){var d=a.boxes?a.boxes.indexOf(c):-1;-1!==d&&a.boxes.splice(d,1)},configure:function(a,c,d){for(var e=["fullWidth","position","weight"],f=e.length,h=0;h<f;++h)a=
e[h],d.hasOwnProperty(a)&&(c[a]=d[a])},update:function(a,c,d){function e(a){var c=k.findNextWhere(Ib,function(c){return c.box===a});c&&(c.horizontal?a.update(a.fullWidth?ba:I,z/2,{left:Math.max(E.left,ta.left),right:Math.max(E.right,ta.right),top:0,bottom:0}):a.update(c.width,Z))}function f(a){a.isHorizontal()?(a.left=a.fullWidth?l:E.left,a.right=a.fullWidth?c-m:E.left+I,a.top=C,a.bottom=C+a.height,C=a.bottom):(a.left=cb,a.right=cb+a.width,a.top=E.top,a.bottom=E.top+Z,cb=a.right)}if(a){var h=k.options.toPadding((a.options.layout||
{}).padding),l=h.left,m=h.right,p=h.top,t=h.bottom;h=za(a.boxes,"left");var w=za(a.boxes,"right"),x=za(a.boxes,"top"),u=za(a.boxes,"bottom"),n=za(a.boxes,"chartArea");Pa(h,!0);Pa(w,!1);Pa(x,!0);Pa(u,!1);var q=h.concat(w),v=x.concat(u),y=q.concat(v),ba=c-l-m,z=d-p-t,A=(c-ba/2)/q.length,I=ba,Z=z,E={top:p,left:l,bottom:t,right:m},Ib=[];k.each(y,function(a){var c,d=a.isHorizontal();d?(c=a.update(a.fullWidth?ba:I,z/2),Z-=c.height):(c=a.update(A,Z),I-=c.width);Ib.push({horizontal:d,width:c.width,box:a})});
var ta=function(a){var c=0,d=0,e=0,f=0;return k.each(a,function(a){a.getPadding&&(a=a.getPadding(),c=Math.max(c,a.top),d=Math.max(d,a.left),e=Math.max(e,a.bottom),f=Math.max(f,a.right))}),{top:c,left:d,bottom:e,right:f}}(y);k.each(q,e);qb(q,E);k.each(v,e);qb(v,E);k.each(q,function(a){var c=k.findNextWhere(Ib,function(c){return c.box===a}),d={left:0,right:0,top:E.top,bottom:E.bottom};c&&a.update(c.width,Z,d)});qb(y,E={top:p,left:l,bottom:t,right:m});t=Math.max(ta.left-E.left,0);E.left+=t;E.right+=
Math.max(ta.right-E.right,0);y=Math.max(ta.top-E.top,0);E.top+=y;E.bottom+=Math.max(ta.bottom-E.bottom,0);var B=d-E.top-E.bottom,Jb=c-E.left-E.right;Jb===I&&B===Z||(k.each(q,function(a){a.height=B}),k.each(v,function(a){a.fullWidth||(a.width=Jb)}),Z=B,I=Jb);var cb=l+t,C=p+y;k.each(h.concat(x),f);cb+=I;C+=Z;k.each(w,f);k.each(u,f);a.chartArea={left:E.left,top:E.top,right:E.left+I,bottom:E.top+Z};k.each(n,function(c){c.left=a.chartArea.left;c.top=a.chartArea.top;c.right=a.chartArea.right;c.bottom=a.chartArea.bottom;
c.update(I,Z)})}}},Kb,kd=(Kb=Object.freeze({"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&
Kb["default"]||Kb,dc=["animationstart","webkitAnimationStart"],ld={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cc=!!function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("e",null,c)}catch(d){}return a}()&&{passive:!0},Ic={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&
"undefined"!=typeof document,_ensureLoaded:function(){var a,c;this._loaded||(this._loaded=!0,this.disableCSSInjection||(a=kd,c=this._style||document.createElement("style"),this._style||(this._style=c,a="/* Chart.js */\n"+a,c.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(c)),c.appendChild(document.createTextNode(a))))},acquireContext:function(a,c){"string"==typeof a?a=document.getElementById(a):a.length&&(a=a[0]);a&&a.canvas&&(a=a.canvas);var d=a&&a.getContext&&
a.getContext("2d");this._ensureLoaded();if(d&&d.canvas===a){var e=a,f=e.style,h=e.getAttribute("height"),l=e.getAttribute("width");if(e.$chartjs={initial:{height:h,width:l,style:{display:f.display,height:f.height,width:f.width}}},f.display=f.display||"block",null===l||""===l){var k=bc(e,"width");void 0!==k&&(e.width=k)}if(null===h||""===h)""===e.style.height?e.height=e.width/(c.options.aspectRatio||2):(f=bc(e,"height"),void 0!==k&&(e.height=f))}else d=null;return d},releaseContext:function(a){var c=
a.canvas;if(c.$chartjs){var d=c.$chartjs.initial;["height","width"].forEach(function(a){var e=d[a];k.isNullOrUndef(e)?c.removeAttribute(a):c.setAttribute(a,e)});k.each(d.style||{},function(a,d){c.style[d]=a});c.width=c.width;delete c.$chartjs}},addEventListener:function(a,c,d){var e=a.canvas;if("resize"!==c){var f=d.$chartjs||(d.$chartjs={});Aa(e,c,(f.proxies||(f.proxies={}))[a.id+"_"+c]=function(c){var e=ld[c.type]||c.type,f=k.getRelativePosition(c,a);c=sb(e,a,f.x,f.y,c);d(c)})}else Sc(e,d,a)},removeEventListener:function(a,
c,d){var e=a.canvas;"resize"!==c?(a=((d.$chartjs||{}).proxies||{})[a.id+"_"+c])&&rb(e,c,a):Tc(e)}};k.addEvent=Aa;k.removeEvent=rb;var ua=k.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ic._enabled?Ic:{acquireContext:function(a){return a&&a.canvas&&(a=a.canvas),a&&a.getContext("2d")||null}});z._set("global",{plugins:{}});var F={_plugins:[],_cacheId:0,register:function(a){var c=this._plugins;[].concat(a).forEach(function(a){-1===
c.indexOf(a)&&c.push(a)});this._cacheId++},unregister:function(a){var c=this._plugins;[].concat(a).forEach(function(a){a=c.indexOf(a);-1!==a&&c.splice(a,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(a,c,d){var e,f,h,l,k,p=this.descriptors(a),t=p.length;for(e=0;e<t;++e)if("function"==typeof(k=(h=(f=p[e]).plugin)[c])&&((l=[a].concat(d||[])).push(f.options),!1===k.apply(h,
l)))return!1;return!0},descriptors:function(a){var c=a.$plugins||(a.$plugins={});if(c.id===this._cacheId)return c.descriptors;var d=[],e=[];a=a&&a.config||{};var f=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(a){if(-1===d.indexOf(a)){var c=a.id,h=f[c];!1!==h&&(!0===h&&(h=k.clone(z.global.plugins[c])),d.push(a),e.push({plugin:a,options:h||{}}))}}),c.descriptors=e,c.id=this._cacheId,e},_invalidate:function(a){delete a.$plugins}},Ca={constructors:{},defaults:{},
registerScaleType:function(a,c,d){this.constructors[a]=c;this.defaults[a]=k.clone(d)},getScaleConstructor:function(a){return this.constructors.hasOwnProperty(a)?this.constructors[a]:void 0},getScaleDefaults:function(a){return this.defaults.hasOwnProperty(a)?k.merge({},[z.scale,this.defaults[a]]):{}},updateScaleDefaults:function(a,c){this.defaults.hasOwnProperty(a)&&(this.defaults[a]=k.extend(this.defaults[a],c))},addScalesToLayout:function(a){k.each(a.scales,function(c){c.fullWidth=c.options.fullWidth;
c.position=c.options.position;c.weight=c.options.weight;P.addBox(a,c)})}},aa=k.valueOrDefault;z._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,
caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:k.noop,title:function(a,c){var d="",e=c.labels,f=e?e.length:0;if(0<a.length){var h=a[0];h.label?d=h.label:h.xLabel?d=h.xLabel:0<f&&h.index<f&&(d=e[h.index])}return d},afterTitle:k.noop,beforeBody:k.noop,beforeLabel:k.noop,label:function(a,c){var d=c.datasets[a.datasetIndex].label||"";return d&&(d+=": "),k.isNullOrUndef(a.value)?d+=a.yLabel:d+=a.value,d},labelColor:function(a,
c){var d=c.getDatasetMeta(a.datasetIndex).data[a.index]._view;return{borderColor:d.borderColor,backgroundColor:d.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:k.noop,afterBody:k.noop,beforeFooter:k.noop,footer:k.noop,afterFooter:k.noop}}});var Jc={average:function(a){if(!a.length)return!1;var c,d=0,e=0,f=0;var h=0;for(c=a.length;h<c;++h){var l=a[h];l&&l.hasValue()&&(l=l.tooltipPosition(),d+=l.x,e+=l.y,++f)}return{x:d/f,y:e/f}},nearest:function(a,c){var d,
e,f=c.x,h=c.y,l=Number.POSITIVE_INFINITY;var m=0;for(d=a.length;m<d;++m){var p=a[m];if(p&&p.hasValue()){var t=p.getCenterPoint();t=k.distanceBetweenPoints(c,t);t<l&&(l=t,e=p)}}e&&(m=e.tooltipPosition(),f=m.x,h=m.y);return{x:f,y:h}}},Lb=N.extend({initialize:function(){this._model=ec(this._options);this._lastActive=[]},getTitle:function(){var a=this._options.callbacks,c=a.beforeTitle.apply(this,arguments),d=a.title.apply(this,arguments);a=a.afterTitle.apply(this,arguments);var e=[];return e=O(e,X(c)),
e=O(e,X(d)),O(e,X(a))},getBeforeBody:function(){return O([],X(this._options.callbacks.beforeBody.apply(this,arguments)))},getBody:function(a,c){var d=this,e=d._options.callbacks,f=[];return k.each(a,function(a){var h={before:[],lines:[],after:[]};O(h.before,X(e.beforeLabel.call(d,a,c)));O(h.lines,e.label.call(d,a,c));O(h.after,X(e.afterLabel.call(d,a,c)));f.push(h)}),f},getAfterBody:function(){return O([],X(this._options.callbacks.afterBody.apply(this,arguments)))},getFooter:function(){var a=this._options.callbacks,
c=a.beforeFooter.apply(this,arguments),d=a.footer.apply(this,arguments);a=a.afterFooter.apply(this,arguments);var e=[];return e=O(e,X(c)),e=O(e,X(d)),O(e,X(a))},update:function(a){var c,d,e,f,h,l,m,p,t=this,w=t._options,x=t._model,u=t._model=ec(w),n=t._active,q=t._data;var v={xAlign:x.xAlign,yAlign:x.yAlign};var y={x:x.x,y:x.y};var z={width:x.width,height:x.height};x={x:x.caretX,y:x.caretY};if(n.length){u.opacity=1;var A=[],B=[];x=Jc[w.position].call(t,n,t._eventPosition);z=[];v=0;for(y=n.length;v<
y;++v)z.push((c=n[v],d=void 0,e=void 0,f=void 0,h=void 0,l=void 0,m=void 0,p=void 0,d=c._xScale,e=c._yScale||c._scale,f=c._index,h=c._datasetIndex,l=c._chart.getDatasetMeta(h).controller,m=l._getIndexScale(),p=l._getValueScale(),{xLabel:d?d.getLabelForIndex(f,h):"",yLabel:e?e.getLabelForIndex(f,h):"",label:m?""+m.getLabelForIndex(f,h):"",value:p?""+p.getLabelForIndex(f,h):"",index:f,datasetIndex:h,x:c._model.x,y:c._model.y}));w.filter&&(z=z.filter(function(a){return w.filter(a,q)}));w.itemSort&&(z=
z.sort(function(a,c){return w.itemSort(a,c,q)}));k.each(z,function(a){A.push(w.callbacks.labelColor.call(t,a,t._chart));B.push(w.callbacks.labelTextColor.call(t,a,t._chart))});u.title=t.getTitle(z,q);u.beforeBody=t.getBeforeBody(z,q);u.body=t.getBody(z,q);u.afterBody=t.getAfterBody(z,q);u.footer=t.getFooter(z,q);u.x=x.x;u.y=x.y;u.caretPadding=w.caretPadding;u.labelColors=A;u.labelTextColors=B;u.dataPoints=z;z=function(a,c){var d=a._chart.ctx,e=2*c.yPadding,f=0,h=c.body,l=h.reduce(function(a,c){return a+
c.before.length+c.lines.length+c.after.length},0);l+=c.beforeBody.length+c.afterBody.length;var m=c.title.length,p=c.footer.length,t=c.titleFontSize,w=c.bodyFontSize,x=c.footerFontSize;e=e+m*t+(m?(m-1)*c.titleSpacing:0);e+=m?c.titleMarginBottom:0;e+=l*w;e+=l?(l-1)*c.bodySpacing:0;e+=p?c.footerMarginTop:0;e+=p*x;e+=p?(p-1)*c.footerSpacing:0;var u=0,n=function(a){f=Math.max(f,d.measureText(a).width+u)};return d.font=k.fontString(t,c._titleFontStyle,c._titleFontFamily),k.each(c.title,n),d.font=k.fontString(w,
c._bodyFontStyle,c._bodyFontFamily),k.each(c.beforeBody.concat(c.afterBody),n),u=c.displayColors?w+2:0,k.each(h,function(a){k.each(a.before,n);k.each(a.lines,n);k.each(a.after,n)}),u=0,d.font=k.fontString(x,c._footerFontStyle,c._footerFontFamily),k.each(c.footer,n),{width:f+=2*c.xPadding,height:e}}(this,u);y=function(a,c,d,e){var f=a.x,h=a.y,l=a.caretPadding,k=d.xAlign;d=d.yAlign;var m=a.caretSize+l;a=a.cornerRadius+l;return"right"===k?f-=c.width:"center"===k&&((f-=c.width/2)+c.width>e.width&&(f=
e.width-c.width),0>f&&(f=0)),"top"===d?h+=m:h-="bottom"===d?c.height+m:c.height/2,"center"===d?"left"===k?f+=m:"right"===k&&(f-=m):"left"===k?f-=a:"right"===k&&(f+=a),{x:f,y:h}}(u,z,v=function(a,c){var d,e,f=a._model,h=a._chart;var l=a._chart.chartArea;var k="center",m="center";f.y<c.height?m="top":f.y>h.height-c.height&&(m="bottom");var p=(l.left+l.right)/2,t=(l.top+l.bottom)/2;"center"===m?(d=function(a){return a<=p},e=function(a){return a>p}):(d=function(a){return a<=c.width/2},e=function(a){return a>=
h.width-c.width/2});l=function(a){return a+c.width+f.caretSize+f.caretPadding>h.width};var w=function(a){return 0>a-c.width-f.caretSize-f.caretPadding};var u=function(a){return a<=t?"top":"bottom"};d(f.x)?(k="left",l(f.x)&&(k="center",m=u(f.y))):e(f.x)&&(k="right",w(f.x)&&(k="center",m=u(f.y)));d=a._options;return{xAlign:d.xAlign?d.xAlign:k,yAlign:d.yAlign?d.yAlign:m}}(this,z),t._chart)}else u.opacity=0;return u.xAlign=v.xAlign,u.yAlign=v.yAlign,u.x=y.x,u.y=y.y,u.width=z.width,u.height=z.height,u.caretX=
x.x,u.caretY=x.y,t._model=u,a&&w.custom&&w.custom.call(t,u),t},drawCaret:function(a,c){var d=this._chart.ctx,e=this.getCaretPosition(a,c,this._view);d.lineTo(e.x1,e.y1);d.lineTo(e.x2,e.y2);d.lineTo(e.x3,e.y3)},getCaretPosition:function(a,c,d){var e,f,h,l,k,p=d.caretSize,t=d.cornerRadius,w=d.xAlign,x=d.yAlign,u=a.x,n=a.y;a=c.width;c=c.height;"center"===x?(d=n+c/2,"left"===w?(f=(e=u)-p,h=e,l=d+p,k=d-p):(f=(e=u+a)+p,h=e,l=d-p,k=d+p)):("left"===w?(e=(f=u+t+p)-p,h=f+p):"right"===w?(e=(f=u+a-t-p)-p,h=f+
p):(e=(f=d.caretX)-p,h=f+p),"top"===x)?(d=(l=n)-p,k=l):(d=(l=n+c)+p,k=l,p=h,h=e,e=p);return{x1:e,x2:f,x3:h,y1:l,y2:d,y3:k}},drawTitle:function(a,c,d){var e=c.title;if(e.length){a.x=Qa(c,c._titleAlign);d.textAlign=c._titleAlign;d.textBaseline="top";var f,h=c.titleFontSize,l=c.titleSpacing;d.fillStyle=c.titleFontColor;d.font=k.fontString(h,c._titleFontStyle,c._titleFontFamily);var m=0;for(f=e.length;m<f;++m)d.fillText(e[m],a.x,a.y),a.y+=h+l,m+1===e.length&&(a.y+=c.titleMarginBottom-l)}},drawBody:function(a,
c,d){var e,f=c.bodyFontSize,h=c.bodySpacing,l=c._bodyAlign,m=c.body,p=c.displayColors,t=c.labelColors,w=0,x=p?Qa(c,"left"):0;d.textAlign=l;d.textBaseline="top";d.font=k.fontString(f,c._bodyFontStyle,c._bodyFontFamily);a.x=Qa(c,l);var u=function(c){d.fillText(c,a.x+w,a.y);a.y+=f+h};d.fillStyle=c.bodyFontColor;k.each(c.beforeBody,u);w=p&&"right"!==l?"center"===l?f/2+1:f+2:0;k.each(m,function(h,l){e=c.labelTextColors[l];d.fillStyle=e;k.each(h.before,u);k.each(h.lines,function(h){p&&(d.fillStyle=c.legendColorBackground,
d.fillRect(x,a.y,f,f),d.lineWidth=1,d.strokeStyle=t[l].borderColor,d.strokeRect(x,a.y,f,f),d.fillStyle=t[l].backgroundColor,d.fillRect(x+1,a.y+1,f-2,f-2),d.fillStyle=e);u(h)});k.each(h.after,u)});w=0;k.each(c.afterBody,u);a.y-=h},drawFooter:function(a,c,d){var e=c.footer;e.length&&(a.x=Qa(c,c._footerAlign),a.y+=c.footerMarginTop,d.textAlign=c._footerAlign,d.textBaseline="top",d.fillStyle=c.footerFontColor,d.font=k.fontString(c.footerFontSize,c._footerFontStyle,c._footerFontFamily),k.each(e,function(e){d.fillText(e,
a.x,a.y);a.y+=c.footerFontSize+c.footerSpacing}))},drawBackground:function(a,c,d,e){d.fillStyle=c.backgroundColor;d.strokeStyle=c.borderColor;d.lineWidth=c.borderWidth;var f=c.xAlign,h=c.yAlign,l=a.x,k=a.y,p=e.width,t=e.height,w=c.cornerRadius;d.beginPath();d.moveTo(l+w,k);"top"===h&&this.drawCaret(a,e);d.lineTo(l+p-w,k);d.quadraticCurveTo(l+p,k,l+p,k+w);"center"===h&&"right"===f&&this.drawCaret(a,e);d.lineTo(l+p,k+t-w);d.quadraticCurveTo(l+p,k+t,l+p-w,k+t);"bottom"===h&&this.drawCaret(a,e);d.lineTo(l+
w,k+t);d.quadraticCurveTo(l,k+t,l,k+t-w);"center"===h&&"left"===f&&this.drawCaret(a,e);d.lineTo(l,k+w);d.quadraticCurveTo(l,k,l+w,k);d.closePath();d.fill();0<c.borderWidth&&d.stroke()},draw:function(){var a=this._chart.ctx,c=this._view;if(0!==c.opacity){var d={width:c.width,height:c.height},e={x:c.x,y:c.y},f=Math.abs(.001>c.opacity)?0:c.opacity,h=c.title.length||c.beforeBody.length||c.body.length||c.afterBody.length||c.footer.length;this._options.enabled&&h&&(a.save(),a.globalAlpha=f,this.drawBackground(e,
c,a,d),e.y+=c.yPadding,this.drawTitle(e,c,a),this.drawBody(e,c,a),this.drawFooter(e,c,a),a.restore())}},handleEvent:function(a){var c,d=this._options;return this._lastActive=this._lastActive||[],"mouseout"===a.type?this._active=[]:this._active=this._chart.getElementsAtEventForMode(a,d.mode,d),(c=!k.arrayEquals(this._active,this._lastActive))&&(this._lastActive=this._active,(d.enabled||d.custom)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0),this.pivot())),c}});Lb.positioners=Jc;var tb=k.valueOrDefault;
z._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var A=function(a,c){return this.construct(a,c),this};k.extend(A.prototype,{construct:function(a,c){var d=this;c=function(a){var c=(a=a||{}).data=a.data||{};return c.datasets=c.datasets||[],c.labels=c.labels||[],a.options=ub(z.global,z[a.type],a.options||
{}),a}(c);var e=ua.acquireContext(a,c),f=e&&e.canvas,h=f&&f.height,l=f&&f.width;d.id=k.uid();d.ctx=e;d.canvas=f;d.config=c;d.width=l;d.height=h;d.aspectRatio=h?l/h:null;d.options=c.options;d._bufferedRender=!1;d.chart=d;d.controller=d;A.instances[d.id]=d;Object.defineProperty(d,"data",{get:function(){return d.config.data},set:function(a){d.config.data=a}});e&&f?(d.initialize(),d.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){return F.notify(this,
"beforeInit"),k.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.options.responsive&&this.resize(!0),this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),this.initToolTip(),F.notify(this,"afterInit"),this},clear:function(){return k.canvas.clear(this),this},stop:function(){return Db.cancelAnimation(this),this},resize:function(a){var c=this.options,d=this.canvas,e=c.maintainAspectRatio&&this.aspectRatio||null,f=Math.max(0,Math.floor(k.getMaximumWidth(d)));e=Math.max(0,Math.floor(e?
f/e:k.getMaximumHeight(d)));this.width===f&&this.height===e||(d.width=this.width=f,d.height=this.height=e,d.style.width=f+"px",d.style.height=e+"px",k.retinaScale(this,c.devicePixelRatio),a)||(a={width:f,height:e},F.notify(this,"resize",[a]),c.onResize&&c.onResize(this,a),this.stop(),this.update({duration:c.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var a=this.options,c=a.scales||{};a=a.scale;k.each(c.xAxes,function(a,c){a.id=a.id||"x-axis-"+c});k.each(c.yAxes,function(a,c){a.id=
a.id||"y-axis-"+c});a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var a=this,c=a.options,d=a.scales||{},e=[],f=Object.keys(d).reduce(function(a,c){return a[c]=!1,a},{});c.scales&&(e=e.concat((c.scales.xAxes||[]).map(function(a){return{options:a,dtype:"category",dposition:"bottom"}}),(c.scales.yAxes||[]).map(function(a){return{options:a,dtype:"linear",dposition:"left"}})));c.scale&&e.push({options:c.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});k.each(e,function(c){var e=
c.options,h=e.id,k=tb(e.type,c.dtype);gc(e.position)!==gc(c.dposition)&&(e.position=c.dposition);f[h]=!0;if(h in d&&d[h].type===k)(h=d[h]).options=e,h.ctx=a.ctx,h.chart=a;else{var t=Ca.getScaleConstructor(k);if(!t)return;h=new t({id:h,type:k,options:e,ctx:a.ctx,chart:a});d[h.id]=h}h.mergeTicksOptions();c.isDefault&&(a.scale=h)});k.each(f,function(a,c){a||delete d[c]});a.scales=d;Ca.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,c=[];return k.each(a.data.datasets,function(d,
e){var f=a.getDatasetMeta(e),h=d.type||a.config.type;if(f.type&&f.type!==h&&(a.destroyDatasetMeta(e),f=a.getDatasetMeta(e)),f.type=h,f.controller)f.controller.updateIndex(e),f.controller.linkScales();else{h=Hc[f.type];if(void 0===h)throw Error('"'+f.type+'" is not a chart type.');f.controller=new h(a,e);c.push(f.controller)}},a),c},resetElements:function(){var a=this;k.each(a.data.datasets,function(c,d){a.getDatasetMeta(d).controller.reset()},a)},reset:function(){this.resetElements();this.tooltip.initialize()},
update:function(a,c){var d,e=this;if(a&&"object"==typeof a||(a={duration:a,lazy:c}),d=e.options,k.each(e.scales,function(a){P.removeBox(e,a)}),d=ub(z.global,z[e.config.type],d),e.options=e.config.options=d,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=d.tooltips,e.tooltip.initialize(),F._invalidate(e),!1!==F.notify(e,"beforeUpdate"))e.tooltip._data=e.data,d=e.buildOrUpdateControllers(),k.each(e.data.datasets,function(a,c){e.getDatasetMeta(c).controller.buildOrUpdateElements()},
e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&k.each(d,function(a){a.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],F.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:a.duration,easing:a.easing,lazy:a.lazy}:e.render(a)},updateLayout:function(){!1!==F.notify(this,"beforeLayout")&&(P.update(this,this.width,this.height),F.notify(this,"afterScaleUpdate"),F.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==F.notify(this,"beforeDatasetsUpdate")){for(var a=
0,c=this.data.datasets.length;a<c;++a)this.updateDataset(a);F.notify(this,"afterDatasetsUpdate")}},updateDataset:function(a){var c=this.getDatasetMeta(a);a={meta:c,index:a};!1!==F.notify(this,"beforeDatasetUpdate",[a])&&(c.controller.update(),F.notify(this,"afterDatasetUpdate",[a]))},render:function(a,c){var d=this;a&&"object"==typeof a||(a={duration:a,lazy:c});var e=d.options.animation,f=tb(a.duration,e&&e.duration),h=a.lazy;if(!1!==F.notify(d,"beforeRender")){var l=function(a){F.notify(d,"afterRender");
k.callback(e&&e.onComplete,[a],d)};e&&f?(l=new Ha({numSteps:f/16.66,easing:a.easing||e.easing,render:function(a,c){var d=c.currentStep,e=d/c.numSteps;a.draw((0,k.easing.effects[c.easing])(e),e,d)},onAnimationProgress:e.onProgress,onAnimationComplete:l}),Db.addAnimation(d,l,f,h)):(d.draw(),l(new Ha({numSteps:0,chart:d})));return d}},draw:function(a){var c=this;c.clear();k.isNullOrUndef(a)&&(a=1);c.transition(a);0>=c.width||0>=c.height||!1!==F.notify(c,"beforeDraw",[a])&&(k.each(c.boxes,function(a){a.draw(c.chartArea)},
c),c.drawDatasets(a),c._drawTooltip(a),F.notify(c,"afterDraw",[a]))},transition:function(a){for(var c=0,d=(this.data.datasets||[]).length;c<d;++c)this.isDatasetVisible(c)&&this.getDatasetMeta(c).controller.transition(a);this.tooltip.transition(a)},drawDatasets:function(a){if(!1!==F.notify(this,"beforeDatasetsDraw",[a])){for(var c=(this.data.datasets||[]).length-1;0<=c;--c)this.isDatasetVisible(c)&&this.drawDataset(c,a);F.notify(this,"afterDatasetsDraw",[a])}},drawDataset:function(a,c){var d=this.getDatasetMeta(a),
e={meta:d,index:a,easingValue:c};!1!==F.notify(this,"beforeDatasetDraw",[e])&&(d.controller.draw(c),F.notify(this,"afterDatasetDraw",[e]))},_drawTooltip:function(a){var c=this.tooltip;a={tooltip:c,easingValue:a};!1!==F.notify(this,"beforeTooltipDraw",[a])&&(c.draw(),F.notify(this,"afterTooltipDraw",[a]))},getElementAtEvent:function(a){return sa.modes.single(this,a)},getElementsAtEvent:function(a){return sa.modes.label(this,a,{intersect:!0})},getElementsAtXAxis:function(a){return sa.modes["x-axis"](this,
a,{intersect:!0})},getElementsAtEventForMode:function(a,c,d){c=sa.modes[c];return"function"==typeof c?c(this,a,d):[]},getDatasetAtEvent:function(a){return sa.modes.dataset(this,a,{intersect:!0})},getDatasetMeta:function(a){a=this.data.datasets[a];a._meta||(a._meta={});var c=a._meta[this.id];return c||(c=a._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),c},getVisibleDatasetCount:function(){for(var a=0,c=0,d=this.data.datasets.length;c<d;++c)this.isDatasetVisible(c)&&
a++;return a},isDatasetVisible:function(a){var c=this.getDatasetMeta(a);return"boolean"==typeof c.hidden?!c.hidden:!this.data.datasets[a].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(a){var c=this.id;a=this.data.datasets[a];var d=a._meta&&a._meta[c];d&&(d.controller.destroy(),delete a._meta[c])},destroy:function(){var a,c=this.canvas;this.stop();var d=0;for(a=this.data.datasets.length;d<a;++d)this.destroyDatasetMeta(d);c&&(this.unbindEvents(),
k.canvas.clear(this),ua.releaseContext(this.ctx),this.canvas=null,this.ctx=null);F.notify(this,"destroy");delete A.instances[this.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){this.tooltip=new Lb({_chart:this,_chartInstance:this,_data:this.data,_options:this.options.tooltips},this)},bindEvents:function(){var a=this,c=a._listeners={},d=function(){a.eventHandler.apply(a,arguments)};k.each(a.options.events,function(e){ua.addEventListener(a,
e,d);c[e]=d});a.options.responsive&&(d=function(){a.resize()},ua.addEventListener(a,"resize",d),c.resize=d)},unbindEvents:function(){var a=this,c=a._listeners;c&&(delete a._listeners,k.each(c,function(c,e){ua.removeEventListener(a,e,c)}))},updateHoverStyle:function(a,c,d){var e,f=d?"setHoverStyle":"removeHoverStyle";c=0;for(d=a.length;c<d;++c)(e=a[c])&&this.getDatasetMeta(e._datasetIndex).controller[f](e)},eventHandler:function(a){var c=this.tooltip;if(!1!==F.notify(this,"beforeEvent",[a])){this._bufferedRender=
!0;this._bufferedRequest=null;var d=this.handleEvent(a);c&&(d=c._start?c.handleEvent(a):d|c.handleEvent(a));F.notify(this,"afterEvent",[a]);a=this._bufferedRequest;return a?this.render(a):d&&!this.animating&&(this.stop(),this.render({duration:this.options.hover.animationDuration,lazy:!0})),this._bufferedRender=!1,this._bufferedRequest=null,this}},handleEvent:function(a){var c,d=this.options||{},e=d.hover;return this.lastActive=this.lastActive||[],"mouseout"===a.type?this.active=[]:this.active=this.getElementsAtEventForMode(a,
e.mode,e),k.callback(d.onHover||d.hover.onHover,[a["native"],this.active],this),"mouseup"!==a.type&&"click"!==a.type||d.onClick&&d.onClick.call(this,a["native"],this.active),this.lastActive.length&&this.updateHoverStyle(this.lastActive,e.mode,!1),this.active.length&&e.mode&&this.updateHoverStyle(this.active,e.mode,!0),c=!k.arrayEquals(this.active,this.lastActive),this.lastActive=this.active,c}});A.instances={};A.Controller=A;A.types={};k.configMerge=ub;k.scaleMerge=fc;k.extend(Ra.prototype,{formats:ka,
parse:ka,format:ka,add:ka,diff:ka,startOf:ka,endOf:ka,_create:function(a){return a}});Ra.override=function(a){k.extend(Ra.prototype,a)};var Mb={_date:Ra},Ja={formatters:{values:function(a){return k.isArray(a)?a:""+a},linear:function(a,c,d){c=3<d.length?d[2]-d[1]:d[1]-d[0];1<Math.abs(c)&&a!==Math.floor(a)&&(c=a-Math.floor(a));c=k.log10(Math.abs(c));0!==a?1E-4>Math.max(Math.abs(d[0]),Math.abs(d[d.length-1]))?(d=k.log10(Math.abs(a)),a=a.toExponential(Math.floor(d)-Math.floor(c))):(d=-1*Math.floor(c),
d=Math.max(Math.min(d,20),0),a=a.toFixed(d)):a="0";return a},logarithmic:function(a,c,d){var e=a/Math.pow(10,Math.floor(k.log10(a)));return 0===a?"0":1===e||2===e||5===e||0===c||c===d.length-1?a.toExponential():""}}},Nb=k.valueOrDefault,Ka=k.valueAtIndexOrDefault;z._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],
zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ja.formatters.values,minor:{},major:{}}});var T=N.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},
mergeTicksOptions:function(){var a=this.options.ticks,c;for(c in!1===a.minor&&(a.minor={display:!1}),!1===a.major&&(a.major={display:!1}),a)"major"!==c&&"minor"!==c&&(void 0===a.minor[c]&&(a.minor[c]=a[c]),void 0===a.major[c]&&(a.major[c]=a[c]))},beforeUpdate:function(){k.callback(this.options.beforeUpdate,[this])},update:function(a,c,d){var e;this.beforeUpdate();this.maxWidth=a;this.maxHeight=c;this.margins=k.extend({left:0,right:0,top:0,bottom:0},d);this.longestLabelWidth=this._maxLabelLines=0;
this.longestTextCache=this.longestTextCache||{};this.beforeSetDimensions();this.setDimensions();this.afterSetDimensions();this.beforeDataLimits();this.determineDataLimits();this.afterDataLimits();this.beforeBuildTicks();var f=this.buildTicks()||[];f=this.afterBuildTicks(f)||f;this.beforeTickToLabelConversion();d=this.convertTicksToLabels(f)||this.ticks;this.afterTickToLabelConversion();this.ticks=d;a=0;for(c=d.length;a<c;++a){var h=d[a];(e=f[a])?e.label=h:f.push(e={label:h,major:!1})}return this._ticks=
f,this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){k.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){k.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=
this.paddingRight=this.paddingTop=this.paddingLeft=0},afterSetDimensions:function(){k.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){k.callback(this.options.beforeDataLimits,[this])},determineDataLimits:k.noop,afterDataLimits:function(){k.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){k.callback(this.options.beforeBuildTicks,[this])},buildTicks:k.noop,afterBuildTicks:function(a){return k.isArray(a)&&a.length?k.callback(this.options.afterBuildTicks,
[this,a]):(this.ticks=k.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,a)},beforeTickToLabelConversion:function(){k.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var a=this.options.ticks;this.ticks=this.ticks.map(a.userCallback||a.callback,this)},afterTickToLabelConversion:function(){k.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){k.callback(this.options.beforeCalculateTickRotation,
[this])},calculateTickRotation:function(){var a=this.ctx,c=this.options.ticks,d=hc(this._ticks),e=k.options._parseFont(c);a.font=e.string;var f=c.minRotation||0;if(d.length&&this.options.display&&this.isHorizontal())for(e=a=k.longestText(a,e.string,d,this.longestTextCache),d=this.getPixelForTick(1)-this.getPixelForTick(0)-6;e>d&&f<c.maxRotation;){var h=k.toRadians(f);if(e=Math.cos(h),Math.sin(h)*a>this.maxHeight){f--;break}f++;e*=a}this.labelRotation=f},afterCalculateTickRotation:function(){k.callback(this.options.afterCalculateTickRotation,
[this])},beforeFit:function(){k.callback(this.options.beforeFit,[this])},fit:function(){var a=this.minSize={width:0,height:0},c=hc(this._ticks),d=this.options,e=d.ticks,f=d.scaleLabel,h=d.gridLines,l=this._isVisible(),m=d.position,p=this.isHorizontal(),t=k.options._parseFont,w=t(e);d=d.gridLines.tickMarkLength;if(a.width=p?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:l&&h.drawTicks?d:0,a.height=p?l&&h.drawTicks?d:0:this.maxHeight,f.display&&l)h=t(f),f=k.options.toPadding(f.padding),
f=h.lineHeight+f.height,p?a.height+=f:a.width+=f;if(e.display&&l)if(f=k.longestText(this.ctx,w.string,c,this.longestTextCache),h=k.numberOfLabelLines(c),l=.5*w.size,t=this.options.ticks.padding,this._maxLabelLines=h,this.longestLabelWidth=f,p){p=k.toRadians(this.labelRotation);e=Math.cos(p);a.height=Math.min(this.maxHeight,a.height+(Math.sin(p)*f+w.lineHeight*h+l)+t);this.ctx.font=w.string;var x,u;p=ic(this.ctx,c[0],w.string);w=ic(this.ctx,c[c.length-1],w.string);f=this.getPixelForTick(0)-this.left;
c=this.right-this.getPixelForTick(c.length-1);0!==this.labelRotation?(x="bottom"===m?e*p:e*l,u="bottom"===m?e*l:e*w):(x=p/2,u=w/2);this.paddingLeft=Math.max(x-f,0)+3;this.paddingRight=Math.max(u-c,0)+3}else e.mirror?f=0:f+=t+l,a.width=Math.min(this.maxWidth,a.width+f),this.paddingTop=w.size/2,this.paddingBottom=w.size/2;this.handleMargins();this.width=a.width;this.height=a.height},handleMargins:function(){this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=
Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0))},afterFit:function(){k.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(a){if(k.isNullOrUndef(a)||("number"==typeof a||a instanceof Number)&&!isFinite(a))return NaN;
if(a)if(this.isHorizontal()){if(void 0!==a.x)return this.getRightValue(a.x)}else if(void 0!==a.y)return this.getRightValue(a.y);return a},getLabelForIndex:k.noop,getPixelForValue:k.noop,getValueForPixel:k.noop,getPixelForTick:function(a){var c=this.options.offset;if(this.isHorizontal()){var d=(this.width-(this.paddingLeft+this.paddingRight))/Math.max(this._ticks.length-(c?0:1),1);a=d*a+this.paddingLeft;c&&(a+=d/2);return this.left+a+(this.isFullWidth()?this.margins.left:0)}return this.top+(this.height-
(this.paddingTop+this.paddingBottom))/(this._ticks.length-1)*a},getPixelForDecimal:function(a){return this.isHorizontal()?this.left+((this.width-(this.paddingLeft+this.paddingRight))*a+this.paddingLeft)+(this.isFullWidth()?this.margins.left:0):this.top+a*this.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var a=this.min,c=this.max;return this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0},_autoSkip:function(a){var c=this.isHorizontal(),d=a.length,
e=!1;var f=this.options.ticks.minor.maxTicksLimit;var h=this._tickSize()*(d-1);var k=c?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.PaddingBottom);c=[];h>k&&(e=1+Math.floor(h/k));d>f&&(e=Math.max(e,1+Math.floor(d/f)));for(f=0;f<d;f++)h=a[f],1<e&&0<f%e&&delete h.label,c.push(h);return c},_tickSize:function(){var a=this.isHorizontal(),c=this.options.ticks.minor,d=k.toRadians(this.labelRotation),e=Math.abs(Math.cos(d));d=Math.abs(Math.sin(d));var f=c.autoSkipPadding||
0,h=this.longestLabelWidth+f||0;c=k.options._parseFont(c);c=this._maxLabelLines*c.lineHeight+f||0;return a?c*e>h*d?h/e:c/d:c*d<h*e?c/e:h/d},_isVisible:function(){var a,c,d=this.chart;var e=this.options.display;if("auto"!==e)return!!e;e=0;for(a=d.data.datasets.length;e<a;++e)if(d.isDatasetVisible(e)&&((c=d.getDatasetMeta(e)).xAxisID===this.id||c.yAxisID===this.id))return!0;return!1},draw:function(a){var c=this,d=c.options;if(c._isVisible()){var e,f,h,l=c.chart,m=c.ctx,p=z.global.defaultFontColor,t=
d.ticks.minor,w=d.ticks.major||t,x=d.gridLines,u=d.scaleLabel,n=d.position,q=0!==c.labelRotation,v=t.mirror,y=c.isHorizontal(),A=k.options._parseFont,B=t.display&&t.autoSkip?c._autoSkip(c.getTicks()):c.getTicks(),C=Nb(t.fontColor,p),I=A(t),F=I.lineHeight,E=Nb(w.fontColor,p),D=A(w),V=t.padding,L=t.labelOffset,K=x.drawTicks?x.tickMarkLength:0;p=Nb(u.fontColor,p);A=A(u);var G=k.options.toPadding(u.padding),R=k.toRadians(c.labelRotation),P=[],J=x.drawBorder?Ka(x.lineWidth,0,0):0,U=k._alignPixel;"top"===
n?(e=U(l,c.bottom,J),f=c.bottom-K,h=e-J/2):"bottom"===n?(e=U(l,c.top,J),f=e+J/2,h=c.top+K):"left"===n?(e=U(l,c.right,J),f=c.right-K,h=e-J/2):(e=U(l,c.left,J),f=e+J/2,h=c.left+K);if(k.each(B,function(e,m){if(!k.isNullOrUndef(e.label)){var p,t,w,u,H,z,Wa,A,E,Xa,B,xb=e.label;m===c.zeroLineIndex&&d.offset===x.offsetGridLines?(p=x.zeroLineWidth,t=x.zeroLineColor,w=x.zeroLineBorderDash||[],u=x.zeroLineBorderDashOffset||0):(p=Ka(x.lineWidth,m),t=Ka(x.color,m),w=x.borderDash||[],u=x.borderDashOffset||0);
var C=k.isArray(xb)?xb.length:1;var ba=x.offsetGridLines;var I=c.getPixelForTick(m);var D=(ba&&(1===c.getTicks().length?I-=c.isHorizontal()?Math.max(I-c.left,c.right-I):Math.max(I-c.top,c.bottom-I):I-=0===m?(c.getPixelForTick(1)-I)/2:(I-c.getPixelForTick(m-1))/2),I);if(y){var Da=K+V;D<c.left-1E-7&&(t="rgba(0,0,0,0)");I=ba=H=Wa=U(l,D,p);D=f;var Kc=h;var G=c.getPixelForTick(m)+L;"top"===n?(z=U(l,a.top,J)+J/2,A=a.bottom,Xa=((q?1:.5)-C)*F,B=q?"left":"center",E=c.bottom-Da):(z=a.top,A=U(l,a.bottom,J)-
J/2,Xa=(q?0:.5)*F,B=q?"right":"center",E=c.top+Da)}else Da=(v?0:K)+V,D<c.top-1E-7&&(t="rgba(0,0,0,0)"),I=f,ba=h,D=Kc=z=A=U(l,D,p),E=c.getPixelForTick(m)+L,Xa=(1-C)*F/2,"left"===n?(H=U(l,a.left,J)+J/2,Wa=a.right,B=v?"left":"right",G=c.right-Da):(H=a.left,Wa=U(l,a.right,J)-J/2,B=v?"right":"left",G=c.left+Da);P.push({tx1:I,ty1:D,tx2:ba,ty2:Kc,x1:H,y1:z,x2:Wa,y2:A,labelX:G,labelY:E,glWidth:p,glColor:t,glBorderDash:w,glBorderDashOffset:u,rotation:-1*R,label:xb,major:e.major,textOffset:Xa,textAlign:B})}}),
k.each(P,function(a){var c=a.glWidth,d=a.glColor;if(x.display&&c&&d&&(m.save(),m.lineWidth=c,m.strokeStyle=d,m.setLineDash&&(m.setLineDash(a.glBorderDash),m.lineDashOffset=a.glBorderDashOffset),m.beginPath(),x.drawTicks&&(m.moveTo(a.tx1,a.ty1),m.lineTo(a.tx2,a.ty2)),x.drawOnChartArea&&(m.moveTo(a.x1,a.y1),m.lineTo(a.x2,a.y2)),m.stroke(),m.restore()),t.display){m.save();m.translate(a.labelX,a.labelY);m.rotate(a.rotation);m.font=a.major?D.string:I.string;m.fillStyle=a.major?E:C;m.textBaseline="middle";
m.textAlign=a.textAlign;c=a.label;a=a.textOffset;if(k.isArray(c))for(d=0;d<c.length;++d)m.fillText(""+c[d],0,a),a+=F;else m.fillText(c,0,a);m.restore()}}),u.display){var M=0,N=A.lineHeight/2;y?(w=c.left+(c.right-c.left)/2,G="bottom"===n?c.bottom-N-G.bottom:c.top+N+G.top):(w=(M="left"===n)?c.left+N+G.top:c.right-N-G.top,G=c.top+(c.bottom-c.top)/2,M=M?-.5*Math.PI:.5*Math.PI);m.save();m.translate(w,G);m.rotate(M);m.textAlign="center";m.textBaseline="middle";m.fillStyle=p;m.font=A.string;m.fillText(u.labelString,
0,0);m.restore()}if(J){var O,Q,S,T;u=Ka(x.lineWidth,B.length-1,0);y?(O=U(l,c.left,J)-J/2,Q=U(l,c.right,u)+u/2,S=T=e):(S=U(l,c.top,J)-J/2,T=U(l,c.bottom,u)+u/2,O=Q=e);m.lineWidth=J;m.strokeStyle=Ka(x.color,0);m.beginPath();m.moveTo(O,S);m.lineTo(Q,T);m.stroke()}}}}),Lc=T.extend({getLabels:function(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels},determineDataLimits:function(){var a,c=this.getLabels();this.minIndex=0;this.maxIndex=c.length-1;void 0!==
this.options.ticks.min&&(a=c.indexOf(this.options.ticks.min),this.minIndex=-1!==a?a:this.minIndex);void 0!==this.options.ticks.max&&(a=c.indexOf(this.options.ticks.max),this.maxIndex=-1!==a?a:this.maxIndex);this.min=c[this.minIndex];this.max=c[this.maxIndex]},buildTicks:function(){var a=this.getLabels();this.ticks=0===this.minIndex&&this.maxIndex===a.length-1?a:a.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(a,c){var d=this.chart;return d.getDatasetMeta(c).controller._getValueScaleId()===
this.id?this.getRightValue(d.data.datasets[c].data[a]):this.ticks[a-this.minIndex]},getPixelForValue:function(a,c){var d,e=this.options.offset,f=Math.max(this.maxIndex+1-this.minIndex-(e?0:1),1);if(null!=a&&(d=this.isHorizontal()?a.x:a.y),void 0!==d||void 0!==a&&isNaN(c))a=d||a,d=this.getLabels().indexOf(a),c=-1!==d?d:c;if(this.isHorizontal())return f=this.width/f,d=f*(c-this.minIndex),e&&(d+=f/2),this.left+d;f=this.height/f;d=f*(c-this.minIndex);return e&&(d+=f/2),this.top+d},getPixelForTick:function(a){return this.getPixelForValue(this.ticks[a],
a+this.minIndex,null)},getValueForPixel:function(a){var c=this.options.offset,d=Math.max(this._ticks.length-(c?0:1),1),e=this.isHorizontal();d=(e?this.width:this.height)/d;return a-=e?this.left:this.top,c&&(a-=d/2),(0>=a?0:Math.round(a/d))+this.minIndex},getBasePixel:function(){return this.bottom}});Lc._defaults={position:"bottom"};var ma=k.isNullOrUndef,db=T.extend({getRightValue:function(a){return"string"==typeof a?+a:T.prototype.getRightValue.call(this,a)},handleTickRangeOptions:function(){var a=
this.options.ticks;if(a.beginAtZero){var c=k.sign(this.min),d=k.sign(this.max);0>c&&0>d?this.max=0:0<c&&0<d&&(this.min=0)}c=void 0!==a.min||void 0!==a.suggestedMin;d=void 0!==a.max||void 0!==a.suggestedMax;void 0!==a.min?this.min=a.min:void 0!==a.suggestedMin&&(null===this.min?this.min=a.suggestedMin:this.min=Math.min(this.min,a.suggestedMin));void 0!==a.max?this.max=a.max:void 0!==a.suggestedMax&&(null===this.max?this.max=a.suggestedMax:this.max=Math.max(this.max,a.suggestedMax));c!==d&&this.min>=
this.max&&(c?this.max=this.min+1:this.min=this.max-1);this.min===this.max&&(this.max++,a.beginAtZero||this.min--)},getTickLimit:function(){var a,c=this.options.ticks,d=c.stepSize;c=c.maxTicksLimit;return d?a=Math.ceil(this.max/d)-Math.floor(this.min/d)+1:(a=this._computeTickLimit(),c=c||11),c&&(a=Math.min(c,a)),a},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:k.noop,buildTicks:function(){var a=this.options.ticks,c=this.getTickLimit(),d=Math.max(2,c),e=a.min;
c=a.max;var f=a.precision;var h,l=[],m=k.valueOrDefault(a.fixedStepSize,a.stepSize);var p=m||1;var t=d-1,w=this.min,x=this.max;d=k.niceNum((x-w)/t/p)*p;if(1E-14>d&&ma(e)&&ma(c))var u=[w,x];else{(h=Math.ceil(x/d)-Math.floor(w/d))>t&&(d=k.niceNum(h*d/t/p)*p);m||ma(f)?u=Math.pow(10,k._decimalPlaces(d)):(u=Math.pow(10,f),d=Math.ceil(d*u)/u);f=Math.floor(w/d)*d;p=Math.ceil(x/d)*d;m&&(!ma(e)&&k.almostWhole(e/d,d/1E3)&&(f=e),!ma(c)&&k.almostWhole(c/d,d/1E3)&&(p=c));h=(p-f)/d;h=k.almostEquals(h,Math.round(h),
d/1E3)?Math.round(h):Math.ceil(h);f=Math.round(f*u)/u;p=Math.round(p*u)/u;l.push(ma(e)?f:e);for(e=1;e<h;++e)l.push(Math.round((f+e*d)*u)/u);u=(l.push(ma(c)?p:c),l)}u=this.ticks=u;this.handleDirectionalChanges();this.max=k.max(u);this.min=k.min(u);a.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice();this.zeroLineIndex=this.ticks.indexOf(0);T.prototype.convertTicksToLabels.call(this)}}),
md={position:"left",ticks:{callback:Ja.formatters.linear}},Mc=db.extend({determineDataLimits:function(){function a(a){return h?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,h=c.isHorizontal();c.min=null;c.max=null;var l=d.stacked;if(void 0===l&&k.each(f,function(c,d){if(!l){var f=e.getDatasetMeta(d);e.isDatasetVisible(d)&&a(f)&&void 0!==f.stack&&(l=!0)}}),d.stacked||l){var m={};k.each(f,function(f,h){var l=e.getDatasetMeta(h),p=[l.type,void 0===d.stacked&&void 0===
l.stack?h:"",l.stack].join(".");void 0===m[p]&&(m[p]={positiveValues:[],negativeValues:[]});var t=m[p].positiveValues,n=m[p].negativeValues;e.isDatasetVisible(h)&&a(l)&&k.each(f.data,function(a,e){var f=+c.getRightValue(a);isNaN(f)||l.data[e].hidden||(t[e]=t[e]||0,n[e]=n[e]||0,d.relativePoints?t[e]=100:0>f?n[e]+=f:t[e]+=f)})});k.each(m,function(a){var d=a.positiveValues.concat(a.negativeValues);a=k.min(d);d=k.max(d);c.min=null===c.min?a:Math.min(c.min,a);c.max=null===c.max?d:Math.max(c.max,d)})}else k.each(f,
function(d,f){var h=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(h)&&k.each(d.data,function(a,d){var e=+c.getRightValue(a);isNaN(e)||h.data[d].hidden||(null===c.min?c.min=e:e<c.min&&(c.min=e),null===c.max?c.max=e:e>c.max&&(c.max=e))})});c.min=isFinite(c.min)&&!isNaN(c.min)?c.min:0;c.max=isFinite(c.max)&&!isNaN(c.max)?c.max:1;this.handleTickRangeOptions()},_computeTickLimit:function(){var a;return this.isHorizontal()?Math.ceil(this.width/40):(a=k.options._parseFont(this.options.ticks),Math.ceil(this.height/
a.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForValue:function(a){var c=this.start;a=+this.getRightValue(a);var d=this.end-c;return this.isHorizontal()?this.left+this.width/d*(a-c):this.bottom-this.height/d*(a-c)},getValueForPixel:function(a){var c=this.isHorizontal();return this.start+(c?a-this.left:this.bottom-a)/(c?this.width:this.height)*(this.end-
this.start)},getPixelForTick:function(a){return this.getPixelForValue(this.ticksAsNumbers[a])}});Mc._defaults=md;var eb=k.valueOrDefault,nd={position:"left",ticks:{callback:Ja.formatters.logarithmic}},Nc=T.extend({determineDataLimits:function(){function a(a){return h?a.xAxisID===c.id:a.yAxisID===c.id}var c=this,d=c.options,e=c.chart,f=e.data.datasets,h=c.isHorizontal();c.min=null;c.max=null;c.minNotZero=null;var l=d.stacked;if(void 0===l&&k.each(f,function(c,d){if(!l){var f=e.getDatasetMeta(d);e.isDatasetVisible(d)&&
a(f)&&void 0!==f.stack&&(l=!0)}}),d.stacked||l){var m={};k.each(f,function(f,h){var l=e.getDatasetMeta(h),p=[l.type,void 0===d.stacked&&void 0===l.stack?h:"",l.stack].join(".");e.isDatasetVisible(h)&&a(l)&&(void 0===m[p]&&(m[p]=[]),k.each(f.data,function(a,d){var e=m[p],f=+c.getRightValue(a);isNaN(f)||l.data[d].hidden||0>f||(e[d]=e[d]||0,e[d]+=f)}))});k.each(m,function(a){if(0<a.length){var d=k.min(a);a=k.max(a);c.min=null===c.min?d:Math.min(c.min,d);c.max=null===c.max?a:Math.max(c.max,a)}})}else k.each(f,
function(d,f){var h=e.getDatasetMeta(f);e.isDatasetVisible(f)&&a(h)&&k.each(d.data,function(a,d){var e=+c.getRightValue(a);isNaN(e)||h.data[d].hidden||0>e||(null===c.min?c.min=e:e<c.min&&(c.min=e),null===c.max?c.max=e:e>c.max&&(c.max=e),0!==e&&(null===c.minNotZero||e<c.minNotZero)&&(c.minNotZero=e))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var a=this.options.ticks;this.min=Sa(a.min,this.min);this.max=Sa(a.max,this.max);this.min===this.max&&(0!==this.min&&null!==this.min?
(this.min=Math.pow(10,Math.floor(k.log10(this.min))-1),this.max=Math.pow(10,Math.floor(k.log10(this.max))+1)):(this.min=1,this.max=10));null===this.min&&(this.min=Math.pow(10,Math.floor(k.log10(this.max))-1));null===this.max&&(this.max=0!==this.min?Math.pow(10,Math.floor(k.log10(this.min))+1):10);null===this.minNotZero&&(0<this.min?this.minNotZero=this.min:1>this.max?this.minNotZero=Math.pow(10,Math.floor(k.log10(this.max))):this.minNotZero=1)},buildTicks:function(){var a=this.options.ticks,c=!this.isHorizontal(),
d=Sa(a.min),e=Sa(a.max),f,h,l=[];d=eb(d,Math.pow(10,Math.floor(k.log10(this.min))));var m=Math.floor(k.log10(this.max)),p=Math.ceil(this.max/Math.pow(10,m));0===d?(f=Math.floor(k.log10(this.minNotZero)),h=Math.floor(this.minNotZero/Math.pow(10,f)),l.push(d),d=h*Math.pow(10,f)):(f=Math.floor(k.log10(d)),h=Math.floor(d/Math.pow(10,f)));var t=0>f?Math.pow(10,Math.abs(f)):1;do l.push(d),10==++h&&(h=1,t=0<=++f?1:t),d=Math.round(h*Math.pow(10,f)*t)/t;while(f<m||f===m&&h<p);e=eb(e,d);l=this.ticks=(l.push(e),
l);this.max=k.max(l);this.min=k.min(l);a.reverse?(c=!c,this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max);c&&l.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();T.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},getPixelForTick:function(a){return this.getPixelForValue(this.tickValues[a])},_getFirstTickValue:function(a){var c=Math.floor(k.log10(a));return Math.floor(a/
Math.pow(10,c))*Math.pow(10,c)},getPixelForValue:function(a){var c,d,e,f,h,l=this.options.ticks,m=l.reverse,p=k.log10,t=this._getFirstTickValue(this.minNotZero),w=0;return a=+this.getRightValue(a),m?(e=this.end,f=this.start,h=-1):(e=this.start,f=this.end,h=1),this.isHorizontal()?(c=this.width,d=m?this.right:this.left):(c=this.height,h*=-1,d=m?this.top:this.bottom),a!==e&&(0===e&&(c-=w=eb(l.fontSize,z.global.defaultFontSize),e=t),0!==a&&(w+=c/(p(f)-p(e))*(p(a)-p(e))),d+=h*w),d},getValueForPixel:function(a){var c,
d,e,f,h=this.options.ticks,l=h.reverse,m=k.log10,p=this._getFirstTickValue(this.minNotZero);if(l?(d=this.end,e=this.start):(d=this.start,e=this.end),this.isHorizontal()?(c=this.width,f=l?this.right-a:a-this.left):(c=this.height,f=l?a-this.top:this.bottom-a),f!==d)0===d&&(a=eb(h.fontSize,z.global.defaultFontSize),f-=a,c-=a,d=p),f*=m(e)-m(d),f/=c,f=Math.pow(10,m(d)+f);return f}});Nc._defaults=nd;var Ua=k.valueOrDefault,Ob=k.valueAtIndexOrDefault,Oc=k.options.resolve,od={display:!0,animate:!0,position:"chartArea",
angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ja.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(a){return a}}},Pc=db.extend({setDimensions:function(){this.width=this.maxWidth;this.height=this.maxHeight;this.paddingTop=vb(this.options)/2;this.xCenter=Math.floor(this.width/2);this.yCenter=
Math.floor((this.height-this.paddingTop)/2);this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2},determineDataLimits:function(){var a=this,c=a.chart,d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY;k.each(c.data.datasets,function(f,h){if(c.isDatasetVisible(h)){var l=c.getDatasetMeta(h);k.each(f.data,function(c,f){var h=+a.getRightValue(c);isNaN(h)||l.data[f].hidden||(d=Math.min(h,d),e=Math.max(h,e))})}});a.min=d===Number.POSITIVE_INFINITY?0:d;a.max=e===Number.NEGATIVE_INFINITY?
0:e;a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/vb(this.options))},convertTicksToLabels:function(){db.prototype.convertTicksToLabels.call(this);this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(a,c){return+this.getRightValue(this.chart.data.datasets[c].data[a])},fit:function(){var a=this.options;if(a.display&&a.pointLabels.display){var c=k.options._parseFont(this.options.pointLabels),d={l:0,
r:this.width,t:0,b:this.height-this.paddingTop},e={};this.ctx.font=c.string;this._pointLabelSizes=[];var f=Ta(this);for(a=0;a<f;a++){var h=this.getPointPosition(a,this.drawingArea+5);var l=this.ctx;var m=c.lineHeight;var p=this.pointLabels[a]||"";p=k.isArray(p)?{w:k.longestText(l,l.font,p),h:p.length*m}:{w:l.measureText(p).width,h:m};this._pointLabelSizes[a]=p;l=this.getIndexAngle(a);var t=k.toDegrees(l)%360;m=jc(t,h.x,p.w,0,180);h=jc(t,h.y,p.h,90,270);m.start<d.l&&(d.l=m.start,e.l=l);m.end>d.r&&
(d.r=m.end,e.r=l);h.start<d.t&&(d.t=h.start,e.t=l);h.end>d.b&&(d.b=h.end,e.b=l)}this.setReductions(this.drawingArea,d,e)}else this.setCenterPoint(0,0,0,0)},setReductions:function(a,c,d){var e=c.l/Math.sin(d.l),f=Math.max(c.r-this.width,0)/Math.sin(d.r),h=-c.t/Math.cos(d.t);c=-Math.max(c.b-(this.height-this.paddingTop),0)/Math.cos(d.b);e=Va(e);f=Va(f);h=Va(h);c=Va(c);this.drawingArea=Math.min(Math.floor(a-(e+f)/2),Math.floor(a-(h+c)/2));this.setCenterPoint(e,f,h,c)},setCenterPoint:function(a,c,d,e){d+=
this.drawingArea;e=this.height-this.paddingTop-e-this.drawingArea;this.xCenter=Math.floor((a+this.drawingArea+(this.width-c-this.drawingArea))/2+this.left);this.yCenter=Math.floor((d+e)/2+this.top+this.paddingTop)},getIndexAngle:function(a){return a*(2*Math.PI/Ta(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(a){if(null===a)return 0;var c=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?
(this.max-a)*c:(a-this.min)*c},getPointPosition:function(a,c){var d=this.getIndexAngle(a)-Math.PI/2;return{x:Math.cos(d)*c+this.xCenter,y:Math.sin(d)*c+this.yCenter}},getPointPositionForValue:function(a,c){return this.getPointPosition(a,this.getDistanceFromCenterForValue(c))},getBasePosition:function(){var a=this.min,c=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:0>a&&0>c?c:0<a&&0<c?a:0)},draw:function(){var a=this,c=a.options,d=c.gridLines,e=c.ticks;if(c.display){var f=a.ctx,
h=this.getIndexAngle(0),l=k.options._parseFont(e);(c.angleLines.display||c.pointLabels.display)&&function(a){var c=a.ctx,d=a.options,e=d.angleLines,f=d.gridLines,h=d.pointLabels,l=Ua(e.lineWidth,f.lineWidth),m=Ua(e.color,f.color),n=vb(d);c.save();c.lineWidth=l;c.strokeStyle=m;c.setLineDash&&(c.setLineDash(Oc([e.borderDash,f.borderDash,[]])),c.lineDashOffset=Oc([e.borderDashOffset,f.borderDashOffset,0]));d=a.getDistanceFromCenterForValue(d.ticks.reverse?a.min:a.max);f=k.options._parseFont(h);c.font=
f.string;c.textBaseline="middle";for(var q=Ta(a)-1;0<=q;q--){if(e.display&&l&&m){var v=a.getPointPosition(q,d);c.beginPath();c.moveTo(a.xCenter,a.yCenter);c.lineTo(v.x,v.y);c.stroke()}if(h.display){v=a.getPointPosition(q,d+(0===q?n/2:0)+5);var y=Ob(h.fontColor,q,z.global.defaultFontColor);c.fillStyle=y;y=a.getIndexAngle(q);y=k.toDegrees(y);c.textAlign=0===y||180===y?"center":180>y?"left":"right";var A=a._pointLabelSizes[q],B=v;90===y||270===y?B.y-=A.h/2:(270<y||90>y)&&(B.y-=A.h);y=c;A=a.pointLabels[q]||
"";var C=v,E=f.lineHeight,D=C.y+E/2;if(k.isArray(A))for(B=0,v=A.length;B<v;++B)y.fillText(A[B],C.x,D),D+=E;else y.fillText(A,C.x,D)}}c.restore()}(a);k.each(a.ticks,function(c,k){if(0<k||e.reverse){var m=a.getDistanceFromCenterForValue(a.ticksAsNumbers[k]);if(d.display&&0!==k){var p=a.ctx;var n=d.circular;var u=Ta(a),q=Ob(d.color,k-1),v=Ob(d.lineWidth,k-1);if((n||u)&&q&&v){if(p.save(),p.strokeStyle=q,p.lineWidth=v,p.setLineDash&&(p.setLineDash(d.borderDash||[]),p.lineDashOffset=d.borderDashOffset||
0),p.beginPath(),n)p.arc(a.xCenter,a.yCenter,m,0,2*Math.PI);else for(n=a.getPointPosition(0,m),p.moveTo(n.x,n.y),q=1;q<u;q++)n=a.getPointPosition(q,m),p.lineTo(n.x,n.y);p.closePath();p.stroke();p.restore()}}if(e.display){p=Ua(e.fontColor,z.global.defaultFontColor);if(f.font=l.string,f.save(),f.translate(a.xCenter,a.yCenter),f.rotate(h),e.showLabelBackdrop)u=f.measureText(c).width,f.fillStyle=e.backdropColor,f.fillRect(-u/2-e.backdropPaddingX,-m-l.size/2-e.backdropPaddingY,u+2*e.backdropPaddingX,l.size+
2*e.backdropPaddingY);f.textAlign="center";f.textBaseline="middle";f.fillStyle=p;f.fillText(c,0,-m);f.restore()}}})}}});Pc._defaults=od;var zb=k.valueOrDefault,Qc=Number.MIN_SAFE_INTEGER||-9007199254740991,yb=Number.MAX_SAFE_INTEGER||9007199254740991,oa={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1E3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6E4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36E5,steps:[1,2,3,6,12]},day:{common:!0,size:864E5,steps:[1,
2,5]},week:{common:!1,size:6048E5,steps:[1,2,3,4]},month:{common:!0,size:2628E6,steps:[1,2,3]},quarter:{common:!1,size:7884E6,steps:[1,2,3,4]},year:{common:!0,size:3154E7}},L=Object.keys(oa),Rc=T.extend({initialize:function(){this.mergeTicksOptions();T.prototype.initialize.call(this)},update:function(){var a=this.options,c=a.time||(a.time={});a=this._adapter=new Mb._date(a.adapters.date);return c.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),k.mergeIf(c.displayFormats,
a.formats()),T.prototype.update.apply(this,arguments)},getRightValue:function(a){return a&&void 0!==a.t&&(a=a.t),T.prototype.getRightValue.call(this,a)},determineDataLimits:function(){var a,c,d,e=this.chart,f=this._adapter,h=this.options.time,l=h.unit||"day",m=yb,p=Qc,t=[],w=[],n=[];var u=e.data.labels||[];var q=0;for(a=u.length;q<a;++q)n.push(la(this,u[q]));q=0;for(a=(e.data.datasets||[]).length;q<a;++q)if(e.isDatasetVisible(q))if(d=e.data.datasets[q].data,k.isObject(d[0]))for(w[q]=[],u=0,c=d.length;u<
c;++u){var v=la(this,d[u]);t.push(v);w[q][u]=v}else{u=0;for(c=n.length;u<c;++u)t.push(n[u]);w[q]=n.slice(0)}else w[q]=[];n.length&&(n=lc(n).sort(kc),m=Math.min(m,n[0]),p=Math.max(p,n[n.length-1]));t.length&&(t=lc(t).sort(kc),m=Math.min(m,t[0]),p=Math.max(p,t[t.length-1]));m=la(this,h.min)||m;p=la(this,h.max)||p;m=m===yb?+f.startOf(Date.now(),l):m;p=p===Qc?+f.endOf(Date.now(),l)+1:p;this.min=Math.min(m,p);this.max=Math.max(m+1,p);this._horizontal=this.isHorizontal();this._table=[];this._timestamps=
{data:t,datasets:w,labels:n}},buildTicks:function(){var a,c,d=this.min,e=this.max,f=this.options,h=f.time,k=[],m=[];switch(f.ticks.source){case "data":k=this._timestamps.data;break;case "labels":k=this._timestamps.labels;break;default:k=Uc(this,d,e,this.getLabelCapacity(d))}"ticks"===f.bounds&&k.length&&(d=k[0],e=k[k.length-1]);d=la(this,h.min)||d;e=la(this,h.max)||e;var p=0;for(a=k.length;p<a;++p)(c=k[p])>=d&&c<=e&&m.push(c);return this.min=d,this.max=e,this._unit=h.unit||function(a,c,d,e,f){var h,
k;for(h=L.length-1;h>=L.indexOf(d);h--)if(k=L[h],oa[k].common&&a._adapter.diff(f,e,k)>=c.length)return k;return L[d?L.indexOf(d):0]}(this,m,h.minUnit,this.min,this.max),this._majorUnit=mc(this._unit),this._table=function(a,c,d,e){if("linear"===e||!a.length)return[{time:c,pos:0},{time:d,pos:1}];var f,h,k=[],l=[c];e=0;for(f=a.length;e<f;++e)(h=a[e])>c&&h<d&&l.push(h);l.push(d);e=0;for(f=l.length;e<f;++e)c=l[e+1],a=l[e-1],h=l[e],void 0!==a&&void 0!==c&&Math.round((c+a)/2)===h||k.push({time:h,pos:e/(f-
1)});return k}(this._timestamps.data,d,e,f.distribution),this._offsets=function(a,c,d,e,f){var h,k;e=d=0;return f.offset&&c.length&&(f.time.min||(h=na(a,"time",c[0],"pos"),d=1===c.length?1-h:(na(a,"time",c[1],"pos")-h)/2),f.time.max||(k=na(a,"time",c[c.length-1],"pos"),e=1===c.length?k:(k-na(a,"time",c[c.length-2],"pos"))/2)),{start:d,end:e}}(this._table,m,0,0,f),f.ticks.reverse&&m.reverse(),function(a,c,d){var e,f=[];var h=0;for(e=c.length;h<e;++h){var k=c[h];var l=!!d&&k===+a._adapter.startOf(k,
d);f.push({value:k,major:l})}return f}(this,m,this._majorUnit)},getLabelForIndex:function(a,c){var d=this._adapter,e=this.chart.data,f=this.options.time,h=e.labels&&a<e.labels.length?e.labels[a]:"";e=e.datasets[c].data[a];return k.isObject(e)&&(h=this.getRightValue(e)),f.tooltipFormat?d.format(wb(this,h),f.tooltipFormat):"string"==typeof h?h:d.format(wb(this,h),f.displayFormats.datetime)},tickFormatFunction:function(a,c,d,e){var f=this._adapter,h=this.options,k=h.time.displayFormats,m=k[this._unit],
p=this._majorUnit,t=k[p],n=+f.startOf(a,p);k=h.ticks.major;p=k.enabled&&p&&t&&a===n;a=f.format(a,e||(p?t:m));h=p?k:h.ticks.minor;return(h=zb(h.callback,h.userCallback))?h(a,c,d):a},convertTicksToLabels:function(a){var c,d=[];var e=0;for(c=a.length;e<c;++e)d.push(this.tickFormatFunction(a[e].value,e,a));return d},getPixelForOffset:function(a){var c=this.options.ticks.reverse,d=this._horizontal?this.width:this.height,e=this._horizontal?c?this.right:this.left:c?this.bottom:this.top;a=na(this._table,
"time",a,"pos");d=d*(this._offsets.start+a)/(this._offsets.start+1+this._offsets.end);return c?e-d:e+d},getPixelForValue:function(a,c,d){var e=null;if(void 0!==c&&void 0!==d&&(e=this._timestamps.datasets[d][c]),null===e&&(e=la(this,a)),null!==e)return this.getPixelForOffset(e)},getPixelForTick:function(a){var c=this.getTicks();return 0<=a&&a<c.length?this.getPixelForOffset(c[a].value):null},getValueForPixel:function(a){var c=this._horizontal?this.width:this.height,d=this._horizontal?this.left:this.top;
a=na(this._table,"pos",(c?(a-d)/c:0)*(this._offsets.start+1+this._offsets.start)-this._offsets.end,"time");return this._adapter._create(a)},getLabelWidth:function(a){var c=this.options.ticks;a=this.ctx.measureText(a).width;var d=k.toRadians(c.maxRotation),e=Math.sin(d);return a*Math.cos(d)+zb(c.fontSize,z.global.defaultFontSize)*e},getLabelCapacity:function(a){a=this.tickFormatFunction(a,0,[],this.options.time.displayFormats.millisecond);a=this.getLabelWidth(a);var c=this.isHorizontal()?this.width:
this.height;a=Math.floor(c/a);return 0<a?a:1}});Rc._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var pd={category:Lc,linear:Mc,logarithmic:Nc,radialLinear:Pc,time:Rc},qd={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",
quarter:"[Q]Q - YYYY",year:"YYYY"};Mb._date.override("function"==typeof q?{_id:"moment",formats:function(){return qd},parse:function(a,c){return"string"==typeof a&&"string"==typeof c?a=q(a,c):a instanceof q||(a=q(a)),a.isValid()?a.valueOf():null},format:function(a,c){return q(a).format(c)},add:function(a,c,d){return q(a).add(c,d).valueOf()},diff:function(a,c,d){return q.duration(q(a).diff(q(c))).as(d)},startOf:function(a,c,d){return a=q(a),"isoWeek"===c?a.isoWeekday(d).valueOf():a.startOf(c).valueOf()},
endOf:function(a,c){return q(a).endOf(c).valueOf()},_create:function(a){return q(a)}}:{});z._set("global",{plugins:{filler:{propagate:!0}}});var rd={dataset:function(a){var c=a.fill;a=a.chart;var d=a.getDatasetMeta(c),e=d&&a.isDatasetVisible(c)&&d.dataset._children||[],f=e.length||0;return f?function(a,c){return c<f&&e[c]._view||null}:null},boundary:function(a){var c=(a=a.boundary)?a.x:null,d=a?a.y:null;return function(a){return{x:null===c?a.x:c,y:null===d?a.y:d}}}},fa=k.noop,ha=k.valueOrDefault;
z._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1E3,onClick:function(a,c){var d=c.datasetIndex,e=this.chart,f=e.getDatasetMeta(d);f.hidden=null===f.hidden?!e.data.datasets[d].hidden:null;e.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(a){var c=a.data;return k.isArray(c.datasets)?c.datasets.map(function(c,e){return{text:c.label,fillStyle:k.isArray(c.backgroundColor)?c.backgroundColor[0]:c.backgroundColor,hidden:!a.isDatasetVisible(e),
lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:c.borderWidth,strokeStyle:c.borderColor,pointStyle:c.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(a){var c=[];c.push('<ul class="'+a.id+'-legend">');for(var d=0;d<a.data.datasets.length;d++)c.push('<li><span style="background-color:'+a.data.datasets[d].backgroundColor+'"></span>'),a.data.datasets[d].label&&c.push(a.data.datasets[d].label),c.push("</li>");return c.push("</ul>"),
c.join("")}});var pc=N.extend({initialize:function(a){k.extend(this,a);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:fa,update:function(a,c,d){return this.beforeUpdate(),this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:fa,beforeSetDimensions:fa,
setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},afterSetDimensions:fa,beforeBuildLabels:fa,buildLabels:function(){var a=this,c=a.options.labels||{},d=k.callback(c.generateLabels,[a.chart],a)||[];c.filter&&(d=d.filter(function(d){return c.filter(d,a.chart.data)}));a.options.reverse&&
d.reverse();a.legendItems=d},afterBuildLabels:fa,beforeFit:fa,fit:function(){var a=this.options,c=a.labels;a=a.display;var d=this.ctx,e=k.options._parseFont(c),f=e.size,h=this.legendHitBoxes=[],l=this.minSize,m=this.isHorizontal();if(m?(l.width=this.maxWidth,l.height=a?10:0):(l.width=a?10:0,l.height=this.maxHeight),a)if(d.font=e.string,m){var p=this.lineWidths=[0],t=0;d.textAlign="left";d.textBaseline="top";k.each(this.legendItems,function(a,e){var k=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/
2+d.measureText(a.text).width;(0===e||p[p.length-1]+k+c.padding>l.width)&&(t+=f+c.padding,p[p.length-(0<e?0:1)]=c.padding);h[e]={left:0,top:0,width:k,height:f};p[p.length-1]+=k+c.padding});l.height+=t}else{var n=c.padding,q=this.columnWidths=[],u=c.padding,v=0,y=0,z=f+n;k.each(this.legendItems,function(a,e){var k=(c.usePointStyle&&c.boxWidth>f?f:c.boxWidth)+f/2+d.measureText(a.text).width;0<e&&y+z>l.height-n&&(u+=v+c.padding,q.push(v),v=0,y=0);v=Math.max(v,k);y+=z;h[e]={left:0,top:0,width:k,height:f}});
u+=v;q.push(v);l.width+=u}this.width=l.width;this.height=l.height},afterFit:fa,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var a=this,c=a.options,d=c.labels,e=z.global,f=e.defaultColor,h=e.elements.line,l=a.width,m=a.lineWidths;if(c.display){var p=a.ctx;e=ha(d.fontColor,e.defaultFontColor);var t=k.options._parseFont(d),n=t.size;p.textAlign="left";p.textBaseline="middle";p.lineWidth=.5;p.strokeStyle=e;p.fillStyle=e;p.font=t.string;
var q=d.usePointStyle&&d.boxWidth>n?n:d.boxWidth,u=a.legendHitBoxes,v=a.isHorizontal();var y=v?{x:a.left+(l-m[0])/2+d.padding,y:a.top+d.padding,line:0}:{x:a.left+d.padding,y:a.top+d.padding,line:0};var A=n+d.padding;k.each(a.legendItems,function(e,t){var w=p.measureText(e.text).width,x=q+n/2+w,z=y.x,B=y.y;v?0<t&&z+x+d.padding>a.left+a.minSize.width&&(B=y.y+=A,y.line++,z=y.x=a.left+(l-m[y.line])/2+d.padding):0<t&&B+A>a.top+a.minSize.height&&(z=y.x=z+a.columnWidths[y.line]+d.padding,B=y.y=a.top+d.padding,
y.line++);(function(a,d,e){if(!(isNaN(q)||0>=q)){p.save();var l=ha(e.lineWidth,h.borderWidth);(p.fillStyle=ha(e.fillStyle,f),p.lineCap=ha(e.lineCap,h.borderCapStyle),p.lineDashOffset=ha(e.lineDashOffset,h.borderDashOffset),p.lineJoin=ha(e.lineJoin,h.borderJoinStyle),p.lineWidth=l,p.strokeStyle=ha(e.strokeStyle,f),p.setLineDash&&p.setLineDash(ha(e.lineDash,h.borderDash)),c.labels&&c.labels.usePointStyle)?k.canvas.drawPoint(p,e.pointStyle,q*Math.SQRT2/2,a+q/2,d+n/2):(0!==l&&p.strokeRect(a,d,q,n),p.fillRect(a,
d,q,n));p.restore()}})(z,B,e);u[t].left=z;u[t].top=B;(function(a,c,d,e){var f=n/2;a=q+f+a;c+=f;p.fillText(d.text,a,c);d.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(a,c),p.lineTo(a+e,c),p.stroke())})(z,B,e,w);v?y.x+=x+d.padding:y.y+=A})}},_getLegendItemAt:function(a,c){var d,e;if(a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom){var f=this.legendHitBoxes;for(d=0;d<f.length;++d)if(a>=(e=f[d]).left&&a<=e.left+e.width&&c>=e.top&&c<=e.top+e.height)return this.legendItems[d]}return null},handleEvent:function(a){var c=
this.options,d="mouseup"===a.type?"click":a.type;if("mousemove"===d){if(!c.onHover&&!c.onLeave)return}else if("click"!==d||!c.onClick)return;var e=this._getLegendItemAt(a.x,a.y);"click"===d?e&&c.onClick&&c.onClick.call(this,a["native"],e):(c.onLeave&&e!==this._hoveredItem&&(this._hoveredItem&&c.onLeave.call(this,a["native"],this._hoveredItem),this._hoveredItem=e),c.onHover&&e&&c.onHover.call(this,a["native"],e))}}),sd={id:"legend",_element:pc,beforeInit:function(a){var c=a.options.legend;c&&oc(a,
c)},beforeUpdate:function(a){var c=a.options.legend,d=a.legend;c?(k.mergeIf(c,z.global.legend),d?(P.configure(a,d,c),d.options=c):oc(a,c)):d&&(P.removeBox(a,d),delete a.legend)},afterEvent:function(a,c){var d=a.legend;d&&d.handleEvent(c)}},ea=k.noop;z._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2E3}});var rc=N.extend({initialize:function(a){k.extend(this,a);this.legendHitBoxes=[]},beforeUpdate:ea,update:function(a,c,d){return this.beforeUpdate(),
this.maxWidth=a,this.maxHeight=c,this.margins=d,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:ea,beforeSetDimensions:ea,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height);this.paddingBottom=this.paddingRight=
this.paddingTop=this.paddingLeft=0;this.minSize={width:0,height:0}},afterSetDimensions:ea,beforeBuildLabels:ea,buildLabels:ea,afterBuildLabels:ea,beforeFit:ea,fit:function(){var a=this.options,c=a.display,d=this.minSize,e=k.isArray(a.text)?a.text.length:1,f=k.options._parseFont(a);a=c?e*f.lineHeight+2*a.padding:0;this.isHorizontal()?(d.width=this.maxWidth,d.height=a):(d.width=a,d.height=this.maxHeight);this.width=d.width;this.height=d.height},afterFit:ea,isHorizontal:function(){var a=this.options.position;
return"top"===a||"bottom"===a},draw:function(){var a=this.ctx,c=this.options;if(c.display){var d,e,f,h=k.options._parseFont(c),l=h.lineHeight,m=l/2+c.padding,p=0,t=this.top,n=this.left,q=this.bottom,u=this.right;a.fillStyle=k.valueOrDefault(c.fontColor,z.global.defaultFontColor);a.font=h.string;this.isHorizontal()?(e=n+(u-n)/2,f=t+m,d=u-n):(e="left"===c.position?n+m:u-m,f=t+(q-t)/2,d=q-t,p=Math.PI*("left"===c.position?-.5:.5));a.save();a.translate(e,f);a.rotate(p);a.textAlign="center";a.textBaseline=
"middle";c=c.text;if(k.isArray(c))for(f=e=0;f<c.length;++f)a.fillText(c[f],0,e,d),e+=l;else a.fillText(c,0,0,d);a.restore()}}}),ia={},td={id:"filler",afterDatasetsUpdate:function(a,c){var d,e,f,h=(a.data.datasets||[]).length,k=c.propagate,m=[];for(e=0;e<h;++e){var p=null;(f=(d=a.getDatasetMeta(e)).dataset)&&f._model&&f instanceof G.Line&&(p={visible:a.isDatasetVisible(e),fill:Vc(f,e,h),chart:a,el:f});d.$filler=p;m.push(p)}for(e=0;e<h;++e)if(p=m[e]){d=p;a:{var t=m,n=t[e].fill,q=[e];if(k){for(;!1!==
n&&-1===q.indexOf(n);){if(!isFinite(n)){f=n;break a}if(!(f=t[n]))break;if(f.visible){f=n;break a}q.push(n);n=f.fill}f=!1}else f=n}d.fill=f;p.boundary=Wc(p);f=d=p;t=f.fill;p="dataset";f=!1===t?null:(isFinite(t)||(p="boundary"),rd[p](f));d.mapper=f}},beforeDatasetDraw:function(a,c){var d=c.meta.$filler;if(d){var e=a.ctx,f=d.el,h=f._view,l=f._children||[];d=d.mapper;var m=h.backgroundColor||z.global.defaultColor;if(d&&m&&l.length){k.canvas.clipArea(e,a.chartArea);var p=f._loop,n,q,v=l.length,u=h.spanGaps,
y=[],A=[],B=0,C=0;e.beginPath();f=0;for(p=v+!!p;f<p;++f){var D=d(q=l[n=f%v]._view,n,h);var F=q&&!q.skip;var G=D&&!D.skip;F&&G?(B=y.push(q),C=A.push(D)):B&&C&&(u?(F&&y.push(q),G&&A.push(D)):(nc(e,y,A,B,C),B=C=0,y=[],A=[]))}nc(e,y,A,B,C);e.closePath();e.fillStyle=m;e.fill();k.canvas.unclipArea(e)}}}},ud={id:"title",_element:rc,beforeInit:function(a){var c=a.options.title;c&&qc(a,c)},beforeUpdate:function(a){var c=a.options.title,d=a.titleBlock;c?(k.mergeIf(c,z.global.title),d?(P.configure(a,d,c),d.options=
c):qc(a,c)):d&&(P.removeBox(a,d),delete a.titleBlock)}},Pb;for(Pb in ia.filler=td,ia.legend=sd,ia.title=ud,A.helpers=k,function(){function a(a,c,f){var d;return"string"==typeof a?(d=parseInt(a,10),-1!==a.indexOf("%")&&(d=d/100*c.parentNode[f])):d=a,d}function c(c,e,f){var d=document.defaultView,l=k._getParentNode(c),m=d.getComputedStyle(c)[e];e=d.getComputedStyle(l)[e];d=null!=m&&"none"!==m;var p=null!=e&&"none"!==e,n=Number.POSITIVE_INFINITY;return d||p?Math.min(d?a(m,c,f):n,p?a(e,l,f):n):"none"}
k.where=function(a,c){if(k.isArray(a)&&Array.prototype.filter)return a.filter(c);var d=[];return k.each(a,function(a){c(a)&&d.push(a)}),d};k.findIndex=Array.prototype.findIndex?function(a,c,f){return a.findIndex(c,f)}:function(a,c,f){f=void 0===f?a:f;for(var d=0,e=a.length;d<e;++d)if(c.call(f,a[d],d,a))return d;return-1};k.findNextWhere=function(a,c,f){k.isNullOrUndef(f)&&(f=-1);for(f+=1;f<a.length;f++){var d=a[f];if(c(d))return d}};k.findPreviousWhere=function(a,c,f){k.isNullOrUndef(f)&&(f=a.length);
for(--f;0<=f;f--){var d=a[f];if(c(d))return d}};k.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};k.almostEquals=function(a,c,f){return Math.abs(a-c)<f};k.almostWhole=function(a,c){var d=Math.round(a);return d-c<a&&d+c>a};k.max=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.max(a,c)},Number.NEGATIVE_INFINITY)};k.min=function(a){return a.reduce(function(a,c){return isNaN(c)?a:Math.min(a,c)},Number.POSITIVE_INFINITY)};k.sign=Math.sign?function(a){return Math.sign(a)}:
function(a){return 0==(a=+a)||isNaN(a)?a:0<a?1:-1};k.log10=Math.log10?function(a){return Math.log10(a)}:function(a){var c=Math.log(a)*Math.LOG10E,d=Math.round(c);return a===Math.pow(10,d)?d:c};k.toRadians=function(a){return Math.PI/180*a};k.toDegrees=function(a){return 180/Math.PI*a};k._decimalPlaces=function(a){if(k.isFinite(a)){for(var c=1,d=0;Math.round(a*c)/c!==a;)c*=10,d++;return d}};k.getAngleFromPoint=function(a,c){var d=c.x-a.x,e=c.y-a.y,k=Math.sqrt(d*d+e*e);d=Math.atan2(e,d);return d<-.5*
Math.PI&&(d+=2*Math.PI),{angle:d,distance:k}};k.distanceBetweenPoints=function(a,c){return Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2))};k.aliasPixel=function(a){return 0==a%2?0:.5};k._alignPixel=function(a,c,f){a=a.currentDevicePixelRatio;f/=2;return Math.round((c-f)*a)/a+f};k.splineCurve=function(a,c,f,h){a=a.skip?c:a;f=f.skip?c:f;var d=Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2)),e=Math.sqrt(Math.pow(f.x-c.x,2)+Math.pow(f.y-c.y,2)),k=d/(d+e);d=e/(d+e);k=h*(isNaN(k)?0:k);h*=isNaN(d)?
0:d;return{previous:{x:c.x-k*(f.x-a.x),y:c.y-k*(f.y-a.y)},next:{x:c.x+h*(f.x-a.x),y:c.y+h*(f.y-a.y)}}};k.EPSILON=Number.EPSILON||1E-14;k.splineCurveMonotone=function(a){var c,d,h,l,m,p,n,q,v=(a||[]).map(function(a){return{model:a._model,deltaK:0,mK:0}}),u=v.length;for(a=0;a<u;++a)if(!(d=v[a]).model.skip){if(c=0<a?v[a-1]:null,(h=a<u-1?v[a+1]:null)&&!h.model.skip){var y=h.model.x-d.model.x;d.deltaK=0!==y?(h.model.y-d.model.y)/y:0}!c||c.model.skip?d.mK=d.deltaK:!h||h.model.skip?d.mK=c.deltaK:this.sign(c.deltaK)!==
this.sign(d.deltaK)?d.mK=0:d.mK=(c.deltaK+d.deltaK)/2}for(a=0;a<u-1;++a)d=v[a],h=v[a+1],d.model.skip||h.model.skip||(k.almostEquals(d.deltaK,0,this.EPSILON)?d.mK=h.mK=0:(l=d.mK/d.deltaK,m=h.mK/d.deltaK,9>=(n=Math.pow(l,2)+Math.pow(m,2))||(p=3/Math.sqrt(n),d.mK=l*p*d.deltaK,h.mK=m*p*d.deltaK)));for(a=0;a<u;++a)(d=v[a]).model.skip||(c=0<a?v[a-1]:null,h=a<u-1?v[a+1]:null,c&&!c.model.skip&&(q=(d.model.x-c.model.x)/3,d.model.controlPointPreviousX=d.model.x-q,d.model.controlPointPreviousY=d.model.y-q*d.mK),
h&&!h.model.skip&&(q=(h.model.x-d.model.x)/3,d.model.controlPointNextX=d.model.x+q,d.model.controlPointNextY=d.model.y+q*d.mK))};k.nextItem=function(a,c,f){return f?c>=a.length-1?a[0]:a[c+1]:c>=a.length-1?a[a.length-1]:a[c+1]};k.previousItem=function(a,c,f){return f?0>=c?a[a.length-1]:a[c-1]:0>=c?a[0]:a[c-1]};k.niceNum=function(a,c){var d=Math.floor(k.log10(a)),e=a/Math.pow(10,d);return(c?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10)*Math.pow(10,d)};k.requestAnimFrame="undefined"==typeof window?
function(a){a()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)};k.getRelativePosition=function(a,c){var d,e,l=a.originalEvent||a,m=a.target||a.srcElement,p=m.getBoundingClientRect(),n=l.touches;n&&0<n.length?(d=n[0].clientX,e=n[0].clientY):(d=l.clientX,e=l.clientY);l=parseFloat(k.getStyle(m,"padding-left"));n=parseFloat(k.getStyle(m,"padding-top"));
var q=parseFloat(k.getStyle(m,"padding-right")),v=parseFloat(k.getStyle(m,"padding-bottom"));return{x:Math.round((d-p.left-l)/(p.right-p.left-l-q)*m.width/c.currentDevicePixelRatio),y:Math.round((e-p.top-n)/(p.bottom-p.top-n-v)*m.height/c.currentDevicePixelRatio)}};k.getConstraintWidth=function(a){return c(a,"max-width","clientWidth")};k.getConstraintHeight=function(a){return c(a,"max-height","clientHeight")};k._calculatePadding=function(a,c,f){return-1<(c=k.getStyle(a,c)).indexOf("%")?f*parseInt(c,
10)/100:parseInt(c,10)};k._getParentNode=function(a){a=a.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a};k.getMaximumWidth=function(a){var c=k._getParentNode(a);if(!c)return a.clientWidth;var d=c.clientWidth;c=d-k._calculatePadding(c,"padding-left",d)-k._calculatePadding(c,"padding-right",d);a=k.getConstraintWidth(a);return isNaN(a)?c:Math.min(c,a)};k.getMaximumHeight=function(a){var c=k._getParentNode(a);if(!c)return a.clientHeight;var d=c.clientHeight;c=d-k._calculatePadding(c,
"padding-top",d)-k._calculatePadding(c,"padding-bottom",d);a=k.getConstraintHeight(a);return isNaN(a)?c:Math.min(c,a)};k.getStyle=function(a,c){return a.currentStyle?a.currentStyle[c]:document.defaultView.getComputedStyle(a,null).getPropertyValue(c)};k.retinaScale=function(a,c){var d=a.currentDevicePixelRatio=c||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==d){var e=a.canvas,k=a.height,m=a.width;e.height=k*d;e.width=m*d;a.ctx.scale(d,d);e.style.height||e.style.width||(e.style.height=
k+"px",e.style.width=m+"px")}};k.fontString=function(a,c,f){return c+" "+a+"px "+f};k.longestText=function(a,c,f,h){var d=(h=h||{}).data=h.data||{},e=h.garbageCollect=h.garbageCollect||[];h.font!==c&&(d=h.data={},e=h.garbageCollect=[],h.font=c);a.font=c;var p=0;k.each(f,function(c){null!=c&&!0!==k.isArray(c)?p=k.measureText(a,d,e,p,c):k.isArray(c)&&k.each(c,function(c){null==c||k.isArray(c)||(p=k.measureText(a,d,e,p,c))})});c=e.length/2;if(c>f.length){for(f=0;f<c;f++)delete d[e[f]];e.splice(0,c)}return p};
k.measureText=function(a,c,f,h,k){var d=c[k];return d||(d=c[k]=a.measureText(k).width,f.push(k)),d>h&&(h=d),h};k.numberOfLabelLines=function(a){var c=1;return k.each(a,function(a){k.isArray(a)&&a.length>c&&(c=a.length)}),c};k.color=Ya?function(a){return a instanceof CanvasGradient&&(a=z.global.defaultColor),Ya(a)}:function(a){return console.error("Color.js not found!"),a};k.getHoverColor=function(a){return a instanceof CanvasPattern||a instanceof CanvasGradient?a:k.color(a).saturate(.5).darken(.1).rgbString()}}(),
A._adapters=Mb,A.Animation=Ha,A.animationService=Db,A.controllers=Hc,A.DatasetController=Y,A.defaults=z,A.Element=N,A.elements=G,A.Interaction=sa,A.layouts=P,A.platform=ua,A.plugins=F,A.Scale=T,A.scaleService=Ca,A.Ticks=Ja,A.Tooltip=Lb,A.helpers.each(pd,function(a,c){A.scaleService.registerScaleType(c,a,a._defaults)}),ia)ia.hasOwnProperty(Pb)&&A.plugins.register(ia[Pb]);A.platform.initialize();return"undefined"!=typeof window&&(window.Chart=A),A.Chart=A,A.Legend=ia.legend._element,A.Title=ia.title._element,
A.pluginService=A.plugins,A.PluginBase=A.Element.extend({}),A.canvasHelpers=A.helpers.canvas,A.layoutService=A.layouts,A.LinearScaleBase=db,A.helpers.each("Bar Bubble Doughnut Line PolarArea Radar Scatter".split(" "),function(a){A[a]=function(c,d){return new A(c,A.helpers.merge(d||{},{type:a.charAt(0).toLowerCase()+a.slice(1)}))}}),A});!function(){function q(n,q,v,C){this.max_objects=q||10;this.max_levels=v||4;this.level=C||0;this.bounds=n;this.objects=[];this.nodes=[]}q.prototype.split=function(){var n=this.level+1,y=this.bounds.width/2,v=this.bounds.height/2,C=this.bounds.x,D=this.bounds.y;this.nodes[0]=new q({x:C+y,y:D,width:y,height:v},this.max_objects,this.max_levels,n);this.nodes[1]=new q({x:C,y:D,width:y,height:v},this.max_objects,this.max_levels,n);this.nodes[2]=new q({x:C,y:D+v,width:y,height:v},this.max_objects,this.max_levels,
n);this.nodes[3]=new q({x:C+y,y:D+v,width:y,height:v},this.max_objects,this.max_levels,n)};q.prototype.getIndex=function(n){var q=[],v=this.bounds.x+this.bounds.width/2,C=this.bounds.y+this.bounds.height/2,D=n.y<C,V=n.x<v;v=n.x+n.width>v;n=n.y+n.height>C;return D&&v&&q.push(0),V&&D&&q.push(1),V&&n&&q.push(2),v&&n&&q.push(3),q};q.prototype.insert=function(n){var q;if(this.nodes.length){var v=this.getIndex(n);for(q=0;q<v.length;q++)this.nodes[v[q]].insert(n)}else if(this.objects.push(n),this.objects.length>
this.max_objects&&this.level<this.max_levels){this.nodes.length||this.split();for(q=0;q<this.objects.length;q++)for(v=this.getIndex(this.objects[q]),n=0;n<v.length;n++)this.nodes[v[n]].insert(this.objects[q]);this.objects=[]}};q.prototype.retrieve=function(n){var q=this.getIndex(n),v=this.objects;if(this.nodes.length)for(var C=0;C<q.length;C++)v=v.concat(this.nodes[q[C]].retrieve(n));return v=v.filter(function(n,q){return v.indexOf(n)>=q})};q.prototype.clear=function(){this.objects=[];for(var n=0;n<
this.nodes.length;n+=1)this.nodes.length&&this.nodes[n].clear();this.nodes=[]};"undefined"!=typeof module&&void 0!==module.exports?module.exports=q:window.Quadtree=q}();var ctx=document.getElementById("chart").getContext("2d"),chart=new Chart(ctx,{type:"line",data:{labels:[1],datasets:[{label:"new infections",data:1},{label:"current infections",data:1}]},options:{animation:!1}}),imuneStats=[],qurantineStats=[],deaths=[],infections=[],dayLabels=[1];function addPoints(q,n,y,v,C,D){infections.push(q);deaths.push(y);qurantineStats.push(v);imuneStats.push(C);dayLabels.push(D);tinfections.push(n+v);updateData()}
function resetStats(){imuneStats=[];qurantineStats=[];deaths=[];infections=[];tinfections=[];dayLabels=[1]}function updateData(){chart.data={labels:dayLabels,datasets:[{label:"new infections",data:infections,borderColor:"purple"},{label:"total infections",data:tinfections,borderColor:"red"},{label:"death count",data:deaths,borderColor:"black"},{label:"in quarantine",data:qurantineStats,borderColor:"yellow"},{label:"imune",data:imuneStats,borderColor:"rgb(0,255,0)"}]};chart.update()};var canvas=document.getElementById("canvas"),qcanvas=document.getElementById("qcanvas"),dayCounter=document.getElementById("dayCounter"),stats=!1,actors=[],agentCount=1500,infectionRate=.1,deathRate=.01,infectionDuration=40,infectionRadius=20,resistanceDuration=10,socialDistancing=5,quarantineDelay=20,distancingRadius=20,distancingStrength=0,totalTime=0,fatalities=[],quarantine=[],tickrate=250,activeTimeout,myTree=new Quadtree({x:0,y:0,width:769,height:1E3});
function updateAgents(q){agentCount=q;startSimulation()}function updateDeath(q){deathRate=q}function updateInfection(q){infectionRate=q}function updateDistancing(q){socialDistancing=5*(1-q)}function updateRadius(q){infectionRadius=q;q=$jscomp.makeIterator(actors);for(var n=q.next();!n.done;n=q.next())n=n.value,n.width=infectionRadius,n.height=infectionRadius}function updateRecovery(q){infectionDuration=q}function updateResistance(q){resistanceDuration=q}
function updateQuarantine(q){quarantineDelay=q}
function startSimulation(){totalTime=0;actors=[];fatalities=[];quarantine=[];for(var q=0;q<agentCount;q++)actors.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,resistanceTimer:0,infectionTimer:0,vx:Math.random()-.5,vy:Math.random()-.5,dead:!1,width:infectionRadius,height:infectionRadius});actors[0].infectionTimer=1;resetStats();clearTimeout(activeTimeout);activeTimeout=window.setTimeout(updateSimulation,tickrate,1);console.log("sim started with timer: ",activeTimeout)}
function updateSimulation(q){var n=0;healthy=actors.filter(function(n){return 0==n.infectionTimer&&0==n.resistanceTimer});myTree.clear();for(var y=0;y<healthy.length;y+=1)myTree.insert(healthy[y]);infected=actors.filter(function(n){return 0<n.infectionTimer});if(0<healthy.length){y=$jscomp.makeIterator(infected);for(var v=y.next();!v.done;v=y.next()){v=v.value;var C=myTree.retrieve(v);C=$jscomp.makeIterator(C);for(var D=C.next();!D.done;D=C.next())D=D.value,Math.abs(v.x-D.x)<infectionRadius&&Math.abs(v.y-
D.y)<infectionRadius&&Math.random()<infectionRate&&(D.infectionTimer=1,n++)}}for(y=0;y<actors.length;y++)v=actors[y],0<v.infectionTimer&&(v.infectionTimer++,Math.random()<deathRate/infectionDuration&&(v.dead=!0,v.infectionTimer=0,v.resistanceTimer=0,v.qDeath=!1,fatalities.push(v)),v.infectionTimer>quarantineDelay&&quarantine.push(v),v.infectionTimer>infectionDuration&&(v.infectionTimer=0,v.resistanceTimer=1)),0<v.resistanceTimer&&(v.resistanceTimer++,v.resistanceTimer>=resistanceDuration&&(v.resistanceTimer=
0));actors=actors.filter(function(n){return!fatalities.includes(n)&&!quarantine.includes(n)});y=$jscomp.makeIterator(quarantine);for(v=y.next();!v.done;v=y.next())v=v.value,v.infectionTimer++,Math.random()<deathRate/infectionDuration&&(v.dead=!0,v.infectionTimer=0,v.qDeath=!0,fatalities.push(v)),v.infectionTimer>infectionDuration&&(v.infectionTimer=0,v.resistanceTimer=1,actors.push(v));quarantine=quarantine.filter(function(n){return 0!=n.infectionTimer});totalTime+=q;0==totalTime%5&&stats&&addPoints(n,
infected.length,fatalities.length,quarantine.length,actors.filter(function(n){return 0<n.resistanceTimer}).length,totalTime);activeTimeout=window.setTimeout(updateSimulation,tickrate,1);healthy.length==actors.length&&startSimulation()}
function animate(){distance();for(var q=0;q<actors.length;q++){var n=actors[q];n.x+=n.vx*socialDistancing;n.y+=n.vy*socialDistancing;n.y=(n.y+canvas.height)%canvas.height;n.x=(n.x+canvas.width)%canvas.width}requestAnimationFrame(animate);draw(canvas.getContext("2d"));qdraw(qcanvas.getContext("2d"));dayCounter.textContent="day: "+totalTime}
function distance(){if(0<distancingStrength){myTree.clear();for(var q=$jscomp.makeIterator(actors),n=q.next();!n.done;n=q.next())n=n.value,myTree.insert(n);q=$jscomp.makeIterator(actors);for(n=q.next();!n.done;n=q.next()){n=n.value;var y=myTree.retrieve(n);y=$jscomp.makeIterator(y);for(var v=y.next();!v.done;v=y.next())v=v.value,dist=Math.sqrt((v.x-n.x)*(v.x-n.x)+(v.y-n.y)*(v.y-n.y)),dist<distancingRadius&&(dist=Math.max(dist,.001),n.vx+=(n.x-v.x)*distancingStrength/dist,n.vy+=(n.y-v.y)*distancingStrength/
dist);n.vx=Math.max(Math.min(n.vx,.5),-.5);n.vy=Math.max(Math.min(n.vy,.5),-.5)}}}
function draw(q){q.clearRect(0,0,canvas.width,canvas.height);q.fillStyle="black";for(var n=0;n<fatalities.length;n++)fatalities[n].qDeath||q.fillRect(fatalities[n].x-5,fatalities[n].y-5,10,10);q.beginPath();q.lineWidth="1";q.strokeStyle="red";for(n=0;n<actors.length;n++)q.fillStyle="green",0<actors[n].infectionTimer&&(q.fillStyle="hsl("+120*actors[n].infectionTimer/infectionDuration+",100%,50%)",q.rect(actors[n].x-infectionRadius/2,actors[n].y-infectionRadius/2,infectionRadius,infectionRadius)),0<
actors[n].resistanceTimer&&(q.fillStyle="hsl(120,100%,"+(50-25*actors[n].resistanceTimer/resistanceDuration)+"%)"),q.fillRect(actors[n].x-5,actors[n].y-5,10,10);q.stroke();if(0<distancingStrength){q.beginPath();q.strokeStyle="yellow";q.globalAlpha=distancingStrength;for(n=0;n<actors.length;n++)q.rect(actors[n].x-distancingRadius/2,actors[n].y-distancingRadius/2,distancingRadius,distancingRadius);q.stroke();q.globalAlpha=1}}
function qdraw(q){q.clearRect(0,0,qcanvas.width,qcanvas.height);for(var n=0;n<quarantine.length;n++)q.fillStyle="hsl("+120*quarantine[n].infectionTimer/infectionDuration+",100%,50%)",q.fillRect(15*Math.floor(15*n%qcanvas.width/15),15*Math.floor(15*n/qcanvas.width),10,10);q.fillStyle="black";qf=fatalities.filter(function(n){return n.qDeath});for(n=0;n<qf.length;n++)q.fillRect(15*Math.floor(15*n%qcanvas.width/15),qcanvas.height-15*Math.floor(15*n/qcanvas.width),10,10)}startSimulation();animate();
